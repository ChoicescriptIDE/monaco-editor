/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-css version: 2.2.0(8807dff7b5476ff3894fe72765ec28acdb99eb44)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-css/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/parser/cssScanner",["require","exports"],e)}(function(e,t){"use strict";var a,r;Object.defineProperty(t,"__esModule",{value:!0}),(r=a=t.TokenType||(t.TokenType={}))[r.Ident=0]="Ident",r[r.AtKeyword=1]="AtKeyword",r[r.String=2]="String",r[r.BadString=3]="BadString",r[r.UnquotedString=4]="UnquotedString",r[r.Hash=5]="Hash",r[r.Num=6]="Num",r[r.Percentage=7]="Percentage",r[r.Dimension=8]="Dimension",r[r.UnicodeRange=9]="UnicodeRange",r[r.CDO=10]="CDO",r[r.CDC=11]="CDC",r[r.Colon=12]="Colon",r[r.SemiColon=13]="SemiColon",r[r.CurlyL=14]="CurlyL",r[r.CurlyR=15]="CurlyR",r[r.ParenthesisL=16]="ParenthesisL",r[r.ParenthesisR=17]="ParenthesisR",r[r.BracketL=18]="BracketL",r[r.BracketR=19]="BracketR",r[r.Whitespace=20]="Whitespace",r[r.Includes=21]="Includes",r[r.Dashmatch=22]="Dashmatch",r[r.SubstringOperator=23]="SubstringOperator",r[r.PrefixOperator=24]="PrefixOperator",r[r.SuffixOperator=25]="SuffixOperator",r[r.Delim=26]="Delim",r[r.EMS=27]="EMS",r[r.EXS=28]="EXS",r[r.Length=29]="Length",r[r.Angle=30]="Angle",r[r.Time=31]="Time",r[r.Freq=32]="Freq",r[r.Exclamation=33]="Exclamation",r[r.Resolution=34]="Resolution",r[r.Comma=35]="Comma",r[r.Charset=36]="Charset",r[r.EscapedJavaScript=37]="EscapedJavaScript",r[r.BadEscapedJavaScript=38]="BadEscapedJavaScript",r[r.Comment=39]="Comment",r[r.SingleLineComment=40]="SingleLineComment",r[r.EOF=41]="EOF",r[r.CustomToken=42]="CustomToken",r[r.Builtin=43]="Builtin",r[r.Invalid=44]="Invalid",r[r.Word=45]="Word";var n=function(){function e(e){this.source=e,this.len=e.length,this.position=0}return e.prototype.substring=function(e,t){return void 0===t&&(t=this.position),this.source.substring(e,t)},e.prototype.eos=function(){return this.len<=this.position},e.prototype.pos=function(){return this.position},e.prototype.goBackTo=function(e){this.position=e},e.prototype.goBack=function(e){this.position-=e},e.prototype.advance=function(e){this.position+=e},e.prototype.nextChar=function(){return this.source.charCodeAt(this.position++)||0},e.prototype.peekChar=function(e){return void 0===e&&(e=0),this.source.charCodeAt(this.position+e)||0},e.prototype.lookbackChar=function(e){return void 0===e&&(e=0),this.source.charCodeAt(this.position-e)||0},e.prototype.advanceIfChar=function(e){return e===this.source.charCodeAt(this.position)&&(this.position++,!0)},e.prototype.advanceIfChars=function(e){var t;if(this.position+e.length>this.source.length)return!1;for(t=0;t<e.length;t++)if(this.source.charCodeAt(this.position+t)!==e[t])return!1;return this.advance(t),!0},e.prototype.advanceWhileChar=function(e){for(var t=this.position;this.position<this.len&&e(this.source.charCodeAt(this.position));)this.position++;return this.position-t},e}();t.MultiLineStream=n;var o="a".charCodeAt(0),c="c".charCodeAt(0),u="e".charCodeAt(0),s="f".charCodeAt(0),p="m".charCodeAt(0),l="n".charCodeAt(0),f="o".charCodeAt(0),d="t".charCodeAt(0),i="z".charCodeAt(0),h="A".charCodeAt(0),g="F".charCodeAt(0),m="Z".charCodeAt(0),y="0".charCodeAt(0),v="9".charCodeAt(0),b=("~".charCodeAt(0),"^".charCodeAt(0),"=".charCodeAt(0),"|".charCodeAt(0),"-".charCodeAt(0)),x="_".charCodeAt(0),C="%".charCodeAt(0),T="*".charCodeAt(0),k="(".charCodeAt(0),S=")".charCodeAt(0),_=("<".charCodeAt(0),">".charCodeAt(0),"@".charCodeAt(0),"#".charCodeAt(0)),P=("$".charCodeAt(0),"\\".charCodeAt(0)),E="/".charCodeAt(0),w="\n".charCodeAt(0),N="\r".charCodeAt(0),R="\f".charCodeAt(0),A='"'.charCodeAt(0),D="'".charCodeAt(0),I=" ".charCodeAt(0),O="\t".charCodeAt(0),F=";".charCodeAt(0),L=":".charCodeAt(0),j="{".charCodeAt(0),M="}".charCodeAt(0),V="[".charCodeAt(0),B="]".charCodeAt(0),W=",".charCodeAt(0),K=".".charCodeAt(0),q="!".charCodeAt(0),U={};U[F]=a.SemiColon,U[L]=a.Colon,U[j]=a.CurlyL,U[M]=a.CurlyR,U[B]=a.BracketR,U[V]=a.BracketL,U[k]=a.ParenthesisL,U[S]=a.ParenthesisR,U[W]=a.Comma;var z={};z.em=a.EMS,z.ex=a.EXS,z.px=a.Length,z.cm=a.Length,z.mm=a.Length,z.in=a.Length,z.pt=a.Length,z.pc=a.Length,z.deg=a.Angle,z.rad=a.Angle,z.grad=a.Angle,z.ms=a.Time,z.s=a.Time,z.hz=a.Freq,z.khz=a.Freq,z["%"]=a.Percentage,z.fr=a.Percentage,z.dpi=a.Resolution,z.dpcm=a.Resolution;var H=function(){function e(){this.stream=new n(""),this.ignoreComment=!0,this.ignoreWhitespace=!0,this.inURL=!1}return e.prototype.setSource=function(e){this.stream=new n(e)},e.prototype.finishToken=function(e,t,r){return{offset:e,len:this.stream.pos()-e,type:t,text:r||this.stream.substring(e)}},e.prototype.substring=function(e,t){return this.stream.substring(e,e+t)},e.prototype.pos=function(){return this.stream.pos()},e.prototype.goBackTo=function(e){this.stream.goBackTo(e)},e.prototype.scanUnquotedString=function(){var e=this.stream.pos(),t=[];return this._unquotedString(t)?this.finishToken(e,a.UnquotedString,t.join("")):null},e.prototype.scan=function(){var e=this.trivia();if(null!==e)return e;var t=this.stream.pos();return this.stream.eos()?this.finishToken(t,a.EOF):this.scanNext(t)},e.prototype.scanNext=function(e){if(this.stream.advanceIfChars([T,c,f,p,p,u,l,d])){var t=this.stream.advanceWhileChar(function(e){return!(e===R||e===w||e===N)}),r=this.finishToken(e,a.SingleLineComment);return 0<t?r:null}var n=[];if(this.stream.advanceIfChar(T))return n=["*"],this._name(n)?this.finishToken(e,a.Builtin,n.join("")):1===n.length?this.finishToken(e,a.Delim):this.finishToken(e,a.Invalid,n.join(""));if(this.stream.advanceIfChar(_))return n=["#"],this._name(n)?this.finishToken(e,a.Hash,n.join("")):this.finishToken(e,a.Delim);if(this.stream.advanceIfChar(q))return this.finishToken(e,a.Exclamation);if(this._number()){var i=this.stream.pos();if(n=[this.stream.substring(e,i)],this.stream.advanceIfChar(C))return this.finishToken(e,a.Percentage);if(this.ident(n)){var o=this.stream.substring(i).toLowerCase(),s=z[o];return void 0!==s?this.finishToken(e,s,n.join("")):this.finishToken(e,a.Dimension,n.join(""))}return this.finishToken(e,a.Num)}return this._word()?this.finishToken(e,a.Word):(this.stream.nextChar(),this.finishToken(e,a.Delim))},e.prototype._matchWordAnyCase=function(r){var n=0;return this.stream.advanceWhileChar(function(e){var t=r[n]===e||r[n+1]===e;return t&&(n+=2),t}),n===r.length||(this.stream.goBack(n/2),!1)},e.prototype.trivia=function(){for(;;){var e=this.stream.pos();if(this._whitespace()){if(!this.ignoreWhitespace)return this.finishToken(e,a.Whitespace)}else{if(!this.comment())return null;if(!this.ignoreComment)return this.finishToken(e,a.Comment)}}},e.prototype.comment=function(){if(this.stream.advanceIfChars([E,T])){var t=!1,r=!1;return this.stream.advanceWhileChar(function(e){return r&&e===E?!(t=!0):(r=e===T,!0)}),t&&this.stream.advance(1),!0}return!1},e.prototype._number=function(){var e,t=0;return this.stream.peekChar()===K&&(t=1),e=this.stream.peekChar(t),y<=e&&e<=v&&(this.stream.advance(t+1),this.stream.advanceWhileChar(function(e){return y<=e&&e<=v||0===t&&e===K}),!0)},e.prototype._word=function(){var e;return e=this.stream.peekChar(0),(h<=e&&e<=m||o<=e&&e<=i)&&(this.stream.advance(1),this.stream.advanceWhileChar(function(e){return h<=e&&e<=m||o<=e&&e<=i}),!0)},e.prototype._newline=function(e){var t=this.stream.peekChar();switch(t){case N:case R:case w:return this.stream.advance(1),e.push(String.fromCharCode(t)),t===N&&this.stream.advanceIfChar(w)&&e.push("\n"),!0}return!1},e.prototype._escape=function(e,t){var r=this.stream.peekChar();if(r===P){this.stream.advance(1),r=this.stream.peekChar();for(var n=0;n<6&&(y<=r&&r<=v||o<=r&&r<=s||h<=r&&r<=g);)this.stream.advance(1),r=this.stream.peekChar(),n++;if(0<n){try{var i=parseInt(this.stream.substring(this.stream.pos()-n),16);i&&e.push(String.fromCharCode(i))}catch(e){}return r===I||r===O?this.stream.advance(1):this._newline([]),!0}if(r!==N&&r!==R&&r!==w)return this.stream.advance(1),e.push(String.fromCharCode(r)),!0;if(t)return this._newline(e)}return!1},e.prototype._stringChar=function(e,t){var r=this.stream.peekChar();return 0!==r&&r!==e&&r!==P&&r!==N&&r!==R&&r!==w&&(this.stream.advance(1),t.push(String.fromCharCode(r)),!0)},e.prototype._string=function(e){if(this.stream.peekChar()===D||this.stream.peekChar()===A){var t=this.stream.nextChar();for(e.push(String.fromCharCode(t));this._stringChar(t,e)||this._escape(e,!0););return this.stream.peekChar()===t?(this.stream.nextChar(),e.push(String.fromCharCode(t)),a.String):a.BadString}return null},e.prototype._unquotedChar=function(e){var t=this.stream.peekChar();return 0!==t&&t!==P&&t!==D&&t!==A&&t!==k&&t!==S&&t!==I&&t!==O&&t!==w&&t!==R&&t!==N&&(this.stream.advance(1),e.push(String.fromCharCode(t)),!0)},e.prototype._unquotedString=function(e){for(var t=!1;this._unquotedChar(e)||this._escape(e);)t=!0;return t},e.prototype._whitespace=function(){return 0<this.stream.advanceWhileChar(function(e){return e===I||e===O||e===w||e===R||e===N})},e.prototype._name=function(e){for(var t=!1;this._identChar(e)||this._escape(e);)t=!0;return t},e.prototype.ident=function(e){var t=this.stream.pos();if(this._minus(e)&&this._minus(e)){if(this._identFirstChar(e)||this._escape(e)){for(;this._identChar(e)||this._escape(e););return!0}}else if(this._identFirstChar(e)||this._escape(e)){for(;this._identChar(e)||this._escape(e););return!0}return this.stream.goBackTo(t),!1},e.prototype._identFirstChar=function(e){var t=this.stream.peekChar();return(t===x||o<=t&&t<=i||h<=t&&t<=m||128<=t&&t<=65535)&&(this.stream.advance(1),e.push(String.fromCharCode(t)),!0)},e.prototype._minus=function(e){var t=this.stream.peekChar();return t===b&&(this.stream.advance(1),e.push(String.fromCharCode(t)),!0)},e.prototype._identChar=function(e){var t=this.stream.peekChar();return(t===x||t===b||o<=t&&t<=i||h<=t&&t<=m||y<=t&&t<=v||128<=t&&t<=65535)&&(this.stream.advance(1),e.push(String.fromCharCode(t)),!0)},e}();t.Scanner=H});var __extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/parser/cssNodes",["require","exports"],e)}(function(e,t){"use strict";var i,r,n;function o(e,t){var r=null;return!e||t<e.offset||t>e.end?null:(e.accept(function(e){return-1===e.offset&&-1===e.length||e.offset<=t&&e.end>=t&&(r?e.length<=r.length&&(r=e):r=e,!0)}),r)}Object.defineProperty(t,"__esModule",{value:!0}),(r=i=t.NodeType||(t.NodeType={}))[r.Undefined=0]="Undefined",r[r.Identifier=1]="Identifier",r[r.Stylesheet=2]="Stylesheet",r[r.Ruleset=3]="Ruleset",r[r.Selector=4]="Selector",r[r.SimpleSelector=5]="SimpleSelector",r[r.SelectorInterpolation=6]="SelectorInterpolation",r[r.SelectorCombinator=7]="SelectorCombinator",r[r.SelectorCombinatorParent=8]="SelectorCombinatorParent",r[r.SelectorCombinatorSibling=9]="SelectorCombinatorSibling",r[r.SelectorCombinatorAllSiblings=10]="SelectorCombinatorAllSiblings",r[r.SelectorCombinatorShadowPiercingDescendant=11]="SelectorCombinatorShadowPiercingDescendant",r[r.Page=12]="Page",r[r.PageBoxMarginBox=13]="PageBoxMarginBox",r[r.ClassSelector=14]="ClassSelector",r[r.IdentifierSelector=15]="IdentifierSelector",r[r.ElementNameSelector=16]="ElementNameSelector",r[r.PseudoSelector=17]="PseudoSelector",r[r.AttributeSelector=18]="AttributeSelector",r[r.Declaration=19]="Declaration",r[r.Declarations=20]="Declarations",r[r.Property=21]="Property",r[r.Expression=22]="Expression",r[r.BinaryExpression=23]="BinaryExpression",r[r.Term=24]="Term",r[r.Operator=25]="Operator",r[r.Value=26]="Value",r[r.StringLiteral=27]="StringLiteral",r[r.URILiteral=28]="URILiteral",r[r.EscapedValue=29]="EscapedValue",r[r.Function=30]="Function",r[r.NumericValue=31]="NumericValue",r[r.HexColorValue=32]="HexColorValue",r[r.MixinDeclaration=33]="MixinDeclaration",r[r.MixinReference=34]="MixinReference",r[r.VariableName=35]="VariableName",r[r.VariableDeclaration=36]="VariableDeclaration",r[r.Prio=37]="Prio",r[r.Interpolation=38]="Interpolation",r[r.NestedProperties=39]="NestedProperties",r[r.ExtendsReference=40]="ExtendsReference",r[r.SelectorPlaceholder=41]="SelectorPlaceholder",r[r.Debug=42]="Debug",r[r.If=43]="If",r[r.Else=44]="Else",r[r.For=45]="For",r[r.Each=46]="Each",r[r.While=47]="While",r[r.MixinContent=48]="MixinContent",r[r.Media=49]="Media",r[r.Keyframe=50]="Keyframe",r[r.FontFace=51]="FontFace",r[r.Import=52]="Import",r[r.Namespace=53]="Namespace",r[r.Invocation=54]="Invocation",r[r.FunctionDeclaration=55]="FunctionDeclaration",r[r.ReturnStatement=56]="ReturnStatement",r[r.MediaQuery=57]="MediaQuery",r[r.FunctionParameter=58]="FunctionParameter",r[r.FunctionArgument=59]="FunctionArgument",r[r.KeyframeSelector=60]="KeyframeSelector",r[r.ViewPort=61]="ViewPort",r[r.Document=62]="Document",r[r.AtApplyRule=63]="AtApplyRule",r[r.CustomPropertyDeclaration=64]="CustomPropertyDeclaration",r[r.CustomPropertySet=65]="CustomPropertySet",r[r.ListEntry=66]="ListEntry",r[r.Supports=67]="Supports",r[r.SupportsCondition=68]="SupportsCondition",r[r.NamespacePrefix=69]="NamespacePrefix",r[r.GridLine=70]="GridLine",r[r.Plugin=71]="Plugin",r[r.UnknownAtRule=72]="UnknownAtRule",r[r.Builtin=73]="Builtin",r[r.InvalidBuiltin=74]="InvalidBuiltin",r[r.RealWord=75]="RealWord",r[r.TextLine=76]="TextLine",(n=t.ReferenceType||(t.ReferenceType={}))[n.Mixin=0]="Mixin",n[n.Rule=1]="Rule",n[n.Variable=2]="Variable",n[n.Function=3]="Function",n[n.Keyframe=4]="Keyframe",n[n.Unknown=5]="Unknown",t.getNodeAtOffset=o,t.getNodePath=function(e,t){for(var r=o(e,t),n=[];r;)n.unshift(r),r=r.parent;return n},t.getParentDeclaration=function(e){var t=e.findParent(i.Declaration);return t&&t.getValue()&&t.getValue().encloses(e)?t:null};var s=function(){function e(e,t,r){void 0===e&&(e=-1),void 0===t&&(t=-1),this.parent=null,this.offset=e,this.length=t,r&&(this.nodeType=r)}return Object.defineProperty(e.prototype,"end",{get:function(){return this.offset+this.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.nodeType||i.Undefined},set:function(e){this.nodeType=e},enumerable:!0,configurable:!0}),e.prototype.getTextProvider=function(){for(var e=this;e&&!e.textProvider;)e=e.parent;return e?e.textProvider:function(){return"unknown"}},e.prototype.getText=function(){return this.getTextProvider()(this.offset,this.length)},e.prototype.matches=function(e){return this.length===e.length&&this.getTextProvider()(this.offset,this.length)===e},e.prototype.startsWith=function(e){return this.length>=e.length&&this.getTextProvider()(this.offset,e.length)===e},e.prototype.endsWith=function(e){return this.length>=e.length&&this.getTextProvider()(this.end-e.length,e.length)===e},e.prototype.accept=function(e){if(e(this)&&this.children)for(var t=0,r=this.children;t<r.length;t++){r[t].accept(e)}},e.prototype.acceptVisitor=function(e){this.accept(e.visitNode.bind(e))},e.prototype.adoptChild=function(e,t){if(void 0===t&&(t=-1),e.parent&&e.parent.children){var r=e.parent.children.indexOf(e);0<=r&&e.parent.children.splice(r,1)}var n=(e.parent=this).children;return n||(n=this.children=[]),-1!==t?n.splice(t,0,e):n.push(e),e},e.prototype.attachTo=function(e,t){return void 0===t&&(t=-1),e&&e.adoptChild(this,t),this},e.prototype.collectIssues=function(e){this.issues&&e.push.apply(e,this.issues)},e.prototype.addIssue=function(e){this.issues||(this.issues=[]),this.issues.push(e)},e.prototype.hasIssue=function(t){return Array.isArray(this.issues)&&this.issues.some(function(e){return e.getRule()===t})},e.prototype.isErroneous=function(e){return void 0===e&&(e=!1),!!(this.issues&&0<this.issues.length)||e&&Array.isArray(this.children)&&this.children.some(function(e){return e.isErroneous(!0)})},e.prototype.setNode=function(e,t,r){return void 0===r&&(r=-1),!!t&&(t.attachTo(this,r),this[e]=t,!0)},e.prototype.addChild=function(e){return!!e&&(this.children||(this.children=[]),e.attachTo(this),this.updateOffsetAndLength(e),!0)},e.prototype.updateOffsetAndLength=function(e){(e.offset<this.offset||-1===this.offset)&&(this.offset=e.offset);var t=e.end;(t>this.end||-1===this.length)&&(this.length=t-this.offset)},e.prototype.hasChildren=function(){return this.children&&0<this.children.length},e.prototype.getChildren=function(){return this.children?this.children.slice(0):[]},e.prototype.getChild=function(e){return this.children&&e<this.children.length?this.children[e]:null},e.prototype.addChildren=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];this.addChild(n)}},e.prototype.findFirstChildBeforeOffset=function(e){if(this.children)for(var t=null,r=this.children.length-1;0<=r;r--)if((t=this.children[r]).offset<=e)return t;return null},e.prototype.findChildAtOffset=function(e,t){var r=this.findFirstChildBeforeOffset(e);return r&&r.end>=e?t&&r.findChildAtOffset(e,!0)||r:null},e.prototype.encloses=function(e){return this.offset<=e.offset&&this.offset+this.length>=e.offset+e.length},e.prototype.getParent=function(){for(var e=this.parent;e instanceof a;)e=e.parent;return e},e.prototype.findParent=function(e){for(var t=this;t&&t.type!==e;)t=t.parent;return t},e.prototype.setData=function(e,t){this.options||(this.options={}),this.options[e]=t},e.prototype.getData=function(e){return this.options&&this.options.hasOwnProperty(e)?this.options[e]:null},e}(),a=function(n){function e(e,t){void 0===t&&(t=-1);var r=n.call(this,-1,-1)||this;return r.attachTo(e,t),r.offset=-1,r.length=-1,r}return __extends(e,n),e}(t.Node=s);t.Nodelist=a;var c=function(n){function e(e,t){var r=n.call(this,e,t)||this;return r.isCustomProperty=!1,r}return __extends(e,n),Object.defineProperty(e.prototype,"type",{get:function(){return i.Identifier},enumerable:!0,configurable:!0}),e.prototype.containsInterpolation=function(){return this.hasChildren()},e}(s);t.Identifier=c;var u=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Stylesheet},enumerable:!0,configurable:!0}),e.prototype.setName=function(e){this.name=e},e}(s);t.Stylesheet=u;var p=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Declarations},enumerable:!0,configurable:!0}),e}(s);t.Declarations=p;var l=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),e.prototype.getDeclarations=function(){return this.declarations},e.prototype.setDeclarations=function(e){return this.setNode("declarations",e)},e}(s);t.BodyDeclaration=l;var f=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Builtin},enumerable:!0,configurable:!0}),e}(s);t.Builtin=f;var d=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.InvalidBuiltin},enumerable:!0,configurable:!0}),e}(s);t.InvalidBuiltin=d;var h=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.RealWord},enumerable:!0,configurable:!0}),e}(s);t.RealWord=h;var g=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),e}(s);t.TextLine=g;var m=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Ruleset},enumerable:!0,configurable:!0}),e.prototype.getSelectors=function(){return this.selectors||(this.selectors=new a(this)),this.selectors},e.prototype.isNested=function(){return!!this.parent&&null!==this.parent.findParent(i.Declarations)},e}(l);t.RuleSet=m;var y=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Selector},enumerable:!0,configurable:!0}),e}(s);t.Selector=y;var v=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.SimpleSelector},enumerable:!0,configurable:!0}),e}(s);t.SimpleSelector=v;var b=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.AtApplyRule},enumerable:!0,configurable:!0}),e.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},e.prototype.getIdentifier=function(){return this.identifier},e.prototype.getName=function(){return this.identifier?this.identifier.getText():""},e}(s);t.AtApplyRule=b;var x=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),e}(s),C=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.CustomPropertyDeclaration},enumerable:!0,configurable:!0}),e.prototype.setProperty=function(e){return this.setNode("property",e)},e.prototype.getProperty=function(){return this.property},e.prototype.setValue=function(e){return this.setNode("value",e)},e.prototype.getValue=function(){return this.value},e.prototype.setPropertySet=function(e){return this.setNode("propertySet",e)},e.prototype.getPropertySet=function(){return this.propertySet},e}(t.AbstractDeclaration=x);t.CustomPropertyDeclaration=C;var T=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.CustomPropertySet},enumerable:!0,configurable:!0}),e}(l);t.CustomPropertySet=T;var k=function(r){function n(e,t){return r.call(this,e,t)||this}return __extends(n,r),Object.defineProperty(n.prototype,"type",{get:function(){return i.Declaration},enumerable:!0,configurable:!0}),n.prototype.setProperty=function(e){return this.setNode("property",e)},n.prototype.getProperty=function(){return this.property},n.prototype.getFullPropertyName=function(){var e=this.property?this.property.getName():"unknown";if(this.parent instanceof p&&this.parent.getParent()instanceof j){var t=this.parent.getParent().getParent();if(t instanceof n)return t.getFullPropertyName()+e}return e},n.prototype.getNonPrefixedPropertyName=function(){var e=this.getFullPropertyName();if(e&&"-"===e.charAt(0)){var t=e.indexOf("-",1);if(-1!==t)return e.substring(t+1)}return e},n.prototype.setValue=function(e){return this.setNode("value",e)},n.prototype.getValue=function(){return this.value},n.prototype.setNestedProperties=function(e){return this.setNode("nestedProprties",e)},n.prototype.getNestedProperties=function(){return this.nestedProprties},n}(x);t.Declaration=k;var S=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Property},enumerable:!0,configurable:!0}),e.prototype.setIdentifier=function(e){return this.setNode("identifier",e)},e.prototype.getIdentifier=function(){return this.identifier},e.prototype.getName=function(){return this.getText()},e.prototype.isCustomProperty=function(){return this.identifier.isCustomProperty},e}(s);t.Property=S;var _=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Invocation},enumerable:!0,configurable:!0}),e.prototype.getArguments=function(){return this.arguments||(this.arguments=new a(this)),this.arguments},e}(s),P=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Function},enumerable:!0,configurable:!0}),e.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},e.prototype.getIdentifier=function(){return this.identifier},e.prototype.getName=function(){return this.identifier?this.identifier.getText():""},e}(t.Invocation=_);t.Function=P;var E=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.FunctionParameter},enumerable:!0,configurable:!0}),e.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},e.prototype.getIdentifier=function(){return this.identifier},e.prototype.getName=function(){return this.identifier?this.identifier.getText():""},e.prototype.setDefaultValue=function(e){return this.setNode("defaultValue",e,0)},e.prototype.getDefaultValue=function(){return this.defaultValue},e}(s);t.FunctionParameter=E;var w=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.FunctionArgument},enumerable:!0,configurable:!0}),e.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},e.prototype.getIdentifier=function(){return this.identifier},e.prototype.getName=function(){return this.identifier?this.identifier.getText():""},e.prototype.setValue=function(e){return this.setNode("value",e,0)},e.prototype.getValue=function(){return this.value},e}(s);t.FunctionArgument=w;var N=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.If},enumerable:!0,configurable:!0}),e.prototype.setExpression=function(e){return this.setNode("expression",e,0)},e.prototype.setElseClause=function(e){return this.setNode("elseClause",e)},e}(l);t.IfStatement=N;var R=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.For},enumerable:!0,configurable:!0}),e.prototype.setVariable=function(e){return this.setNode("variable",e,0)},e}(l);t.ForStatement=R;var A=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Each},enumerable:!0,configurable:!0}),e.prototype.getVariables=function(){return this.variables||(this.variables=new a(this)),this.variables},e}(l);t.EachStatement=A;var D=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.While},enumerable:!0,configurable:!0}),e}(l);t.WhileStatement=D;var I=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Else},enumerable:!0,configurable:!0}),e}(l);t.ElseStatement=I;var O=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.FunctionDeclaration},enumerable:!0,configurable:!0}),e.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},e.prototype.getIdentifier=function(){return this.identifier},e.prototype.getName=function(){return this.identifier?this.identifier.getText():""},e.prototype.getParameters=function(){return this.parameters||(this.parameters=new a(this)),this.parameters},e}(l);t.FunctionDeclaration=O;var F=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.ViewPort},enumerable:!0,configurable:!0}),e}(l);t.ViewPort=F;var L=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.FontFace},enumerable:!0,configurable:!0}),e}(l);t.FontFace=L;var j=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.NestedProperties},enumerable:!0,configurable:!0}),e}(l);t.NestedProperties=j;var M=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Keyframe},enumerable:!0,configurable:!0}),e.prototype.setKeyword=function(e){return this.setNode("keyword",e,0)},e.prototype.getKeyword=function(){return this.keyword},e.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},e.prototype.getIdentifier=function(){return this.identifier},e.prototype.getName=function(){return this.identifier?this.identifier.getText():""},e}(l);t.Keyframe=M;var V=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.KeyframeSelector},enumerable:!0,configurable:!0}),e}(l);t.KeyframeSelector=V;var B=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Import},enumerable:!0,configurable:!0}),e.prototype.setMedialist=function(e){return!!e&&(e.attachTo(this),this.medialist=e,!0)},e}(s);t.Import=B;var W=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Namespace},enumerable:!0,configurable:!0}),e}(s);t.Namespace=W;var K=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Media},enumerable:!0,configurable:!0}),e}(l);t.Media=K;var q=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Supports},enumerable:!0,configurable:!0}),e}(l);t.Supports=q;var U=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Document},enumerable:!0,configurable:!0}),e}(l);t.Document=U;var z=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),e.prototype.getMediums=function(){return this.mediums||(this.mediums=new a(this)),this.mediums},e}(s);t.Medialist=z;var H=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.MediaQuery},enumerable:!0,configurable:!0}),e}(s);t.MediaQuery=H;var $=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.SupportsCondition},enumerable:!0,configurable:!0}),e}(s);t.SupportsCondition=$;var G=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Page},enumerable:!0,configurable:!0}),e}(l);t.Page=G;var Q=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.PageBoxMarginBox},enumerable:!0,configurable:!0}),e}(l);t.PageBoxMarginBox=Q;var X=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Expression},enumerable:!0,configurable:!0}),e}(s);t.Expression=X;var J=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.BinaryExpression},enumerable:!0,configurable:!0}),e.prototype.setLeft=function(e){return this.setNode("left",e)},e.prototype.getLeft=function(){return this.left},e.prototype.setRight=function(e){return this.setNode("right",e)},e.prototype.getRight=function(){return this.right},e.prototype.setOperator=function(e){return this.setNode("operator",e)},e.prototype.getOperator=function(){return this.operator},e}(s);t.BinaryExpression=J;var Y=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Term},enumerable:!0,configurable:!0}),e.prototype.setOperator=function(e){return this.setNode("operator",e)},e.prototype.getOperator=function(){return this.operator},e.prototype.setExpression=function(e){return this.setNode("expression",e)},e.prototype.getExpression=function(){return this.expression},e}(s);t.Term=Y;var Z=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.AttributeSelector},enumerable:!0,configurable:!0}),e.prototype.setNamespacePrefix=function(e){return this.setNode("namespacePrefix",e)},e.prototype.getNamespacePrefix=function(){return this.namespacePrefix},e.prototype.setIdentifier=function(e){return this.setNode("identifier",e)},e.prototype.getIdentifier=function(){return this.identifier},e.prototype.setOperator=function(e){return this.setNode("operator",e)},e.prototype.getOperator=function(){return this.operator},e.prototype.setValue=function(e){return this.setNode("value",e)},e.prototype.getValue=function(){return this.value},e}(s);t.AttributeSelector=Z;var ee=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Operator},enumerable:!0,configurable:!0}),e}(s);t.Operator=ee;var te=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.HexColorValue},enumerable:!0,configurable:!0}),e}(s);t.HexColorValue=te;var re=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.NumericValue},enumerable:!0,configurable:!0}),e.prototype.getValue=function(){for(var e,t=this.getText(),r=0,n=".".charCodeAt(0),i="0".charCodeAt(0),o="9".charCodeAt(0),s=0,a=t.length;s<a&&(i<=(e=t.charCodeAt(s))&&e<=o||e===n);s++)r+=1;return{value:t.substring(0,r),unit:r<t.length?t.substring(r):void 0}},e}(s);t.NumericValue=re;var ne=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.VariableDeclaration},enumerable:!0,configurable:!0}),e.prototype.setVariable=function(e){return!!e&&(e.attachTo(this),this.variable=e,!0)},e.prototype.getVariable=function(){return this.variable},e.prototype.getName=function(){return this.variable?this.variable.getName():""},e.prototype.setValue=function(e){return!!e&&(e.attachTo(this),this.value=e,!0)},e.prototype.getValue=function(){return this.value},e}(x);t.VariableDeclaration=ne;var ie=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.Interpolation},enumerable:!0,configurable:!0}),e}(s);t.Interpolation=ie;var oe=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.VariableName},enumerable:!0,configurable:!0}),e.prototype.getName=function(){return this.getText()},e}(s);t.Variable=oe;var se=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.ExtendsReference},enumerable:!0,configurable:!0}),e.prototype.getSelectors=function(){return this.selectors||(this.selectors=new a(this)),this.selectors},e}(s);t.ExtendsReference=se;var ae=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.MixinReference},enumerable:!0,configurable:!0}),e.prototype.getNamespaces=function(){return this.namespaces||(this.namespaces=new a(this)),this.namespaces},e.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},e.prototype.getIdentifier=function(){return this.identifier},e.prototype.getName=function(){return this.identifier?this.identifier.getText():""},e.prototype.getArguments=function(){return this.arguments||(this.arguments=new a(this)),this.arguments},e.prototype.setContent=function(e){return this.setNode("content",e)},e.prototype.getContent=function(){return this.content},e}(s);t.MixinReference=ae;var ce=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.MixinDeclaration},enumerable:!0,configurable:!0}),e.prototype.setIdentifier=function(e){return this.setNode("identifier",e,0)},e.prototype.getIdentifier=function(){return this.identifier},e.prototype.getName=function(){return this.identifier?this.identifier.getText():""},e.prototype.getParameters=function(){return this.parameters||(this.parameters=new a(this)),this.parameters},e.prototype.setGuard=function(e){return e&&(e.attachTo(this),this.guard=e),!1},e}(l);t.MixinDeclaration=ce;var ue=function(r){function e(e,t){return r.call(this,e,t)||this}return __extends(e,r),Object.defineProperty(e.prototype,"type",{get:function(){return i.UnknownAtRule},enumerable:!0,configurable:!0}),e.prototype.setAtRuleName=function(e){this.atRuleName=e},e.prototype.getAtRuleName=function(e){return this.atRuleName},e}(l);t.UnknownAtRule=ue;var pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return i.ListEntry},enumerable:!0,configurable:!0}),t.prototype.setKey=function(e){return this.setNode("key",e,0)},t.prototype.setValue=function(e){return this.setNode("value",e,1)},t}(s);t.ListEntry=pe;var le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getConditions=function(){return this.conditions||(this.conditions=new a(this)),this.conditions},t}(s);t.LessGuard=le;var fe,de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.setVariable=function(e){return this.setNode("variable",e)},t}(s);t.GuardCondition=de,(fe=t.Level||(t.Level={}))[fe.Ignore=1]="Ignore",fe[fe.Warning=2]="Warning",fe[fe.Error=4]="Error";var he=function(){function e(e,t,r,n,i,o){void 0===i&&(i=e.offset),void 0===o&&(o=e.length),this.node=e,this.rule=t,this.level=r,this.message=n||t.message,this.offset=i,this.length=o}return e.prototype.getRule=function(){return this.rule},e.prototype.getLevel=function(){return this.level},e.prototype.getOffset=function(){return this.offset},e.prototype.getLength=function(){return this.length},e.prototype.getNode=function(){return this.node},e.prototype.getMessage=function(){return this.message},e}();t.Marker=he;var ge=function(){function r(){this.entries=[]}return r.entries=function(e){var t=new r;return e.acceptVisitor(t),t.entries},r.prototype.visitNode=function(e){return e.isErroneous()&&e.collectIssues(this.entries),!0},r}();t.ParseErrorCollector=ge}),define("vscode-nls/vscode-nls",["require","exports"],function(e,t){"use strict";function r(e,t){for(var r,n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return r=t,0===(n=i).length?r:r.replace(/\{(\d+)\}/g,function(e,t){var r=t[0];return void 0!==n[r]?n[r]:e})}function n(e){return r}Object.defineProperty(t,"__esModule",{value:!0}),t.loadMessageBundle=n,t.config=function(e){return n}}),define("vscode-nls",["vscode-nls/vscode-nls"],function(e){return e}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/parser/cssErrors",["require","exports","vscode-nls"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("vscode-nls").loadMessageBundle(),n=function(e,t){this.id=e,this.message=t};t.CSSIssueType=n,t.ParseError={NumberExpected:new n("css-numberexpected",r("expected.number","number expected")),ConditionExpected:new n("css-conditionexpected",r("expected.condt","condition expected")),RuleOrSelectorExpected:new n("css-ruleorselectorexpected",r("expected.ruleorselector","at-rule or selector expected")),DotExpected:new n("css-dotexpected",r("expected.dot","dot expected")),ColonExpected:new n("css-colonexpected",r("expected.colon","colon expected")),SemiColonExpected:new n("css-semicolonexpected",r("expected.semicolon","semi-colon expected")),TermExpected:new n("css-termexpected",r("expected.term","term expected")),ExpressionExpected:new n("css-expressionexpected",r("expected.expression","expression expected")),OperatorExpected:new n("css-operatorexpected",r("expected.operator","operator expected")),IdentifierExpected:new n("css-identifierexpected",r("expected.ident","identifier expected")),PercentageExpected:new n("css-percentageexpected",r("expected.percentage","percentage expected")),URIOrStringExpected:new n("css-uriorstringexpected",r("expected.uriorstring","uri or string expected")),URIExpected:new n("css-uriexpected",r("expected.uri","URI expected")),VariableNameExpected:new n("css-varnameexpected",r("expected.varname","variable name expected")),VariableValueExpected:new n("css-varvalueexpected",r("expected.varvalue","variable value expected")),PropertyValueExpected:new n("css-propertyvalueexpected",r("expected.propvalue","property value expected")),LeftCurlyExpected:new n("css-lcurlyexpected",r("expected.lcurly","{ expected")),RightCurlyExpected:new n("css-rcurlyexpected",r("expected.rcurly","} expected")),LeftSquareBracketExpected:new n("css-rbracketexpected",r("expected.lsquare","[ expected")),RightSquareBracketExpected:new n("css-lbracketexpected",r("expected.rsquare","] expected")),LeftParenthesisExpected:new n("css-lparentexpected",r("expected.lparen","( expected")),RightParenthesisExpected:new n("css-rparentexpected",r("expected.rparent",") expected")),CommaExpected:new n("css-commaexpected",r("expected.comma","comma expected")),PageDirectiveOrDeclarationExpected:new n("css-pagedirordeclexpected",r("expected.pagedirordecl","page directive or declaraton expected")),UnknownAtRule:new n("css-unknownatrule",r("unknown.atrule","at-rule unknown")),UnknownCommand:new n("cs-unknowncommand",r("unknown.command","unknown command")),SelectorExpected:new n("css-selectorexpected",r("expected.selector","selector expected")),StringLiteralExpected:new n("css-stringliteralexpected",r("expected.stringliteral","string literal expected")),WhitespaceExpected:new n("css-whitespaceexpected",r("expected.whitespace","whitespace expected")),MediaQueryExpected:new n("css-mediaqueryexpected",r("expected.mediaquery","media query expected"))}}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/data/browsers",["require","exports"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.data={css:{builtins:["abort","achieve","achievement","advertisement","allow_reuse","author","bug","check_achievements","check_purchase","check_registration","choice","create","delay_break","delay_ending","delete","disable_reuse","else","elseif","elsif","end_trial","ending","fake_choice","finish","gosub","gosub_scene","goto","goto_random_scene","goto_scene","gotoref","hide_reuse","if","image","input_number","input_text","label","line_break","link","link_button","login","looplimit","more_games","page_break","params","print","purchase","rand","redirect_scene","reset","restart","restore_game","restore_purchases","return","save_game","scene_list","script","selectable_if","set","setref","share_this_game","show_password","sound","stat_chart","subscribe","temp","title"].sort().map(function(e){return{name:e,desc:"```choicescript\n*choice\n\t# Option 1\n\t\t*comment code here\n\t\t*goto label1\n\t# Option 2\n\t\t*comment code here\n\t\t*goto label2\n\n```\n\nRead more on the [wiki](https://www.google.com)"}}),flowCommands:["gosub","gosub_scene","goto","goto_random_scene","goto_scene","gotoref","label","redirect_scene","return"].sort().map(function(e){return{name:e,desc:"*choice\n\t# Option 1\n\t# Option 2"}}),indentCommands:["achievement","choice","else","elseif","elsif","fake_choice","if","scene_list","stat_chart"].sort().map(function(e){return{name:e,desc:"aa"}}),dedentCommands:["ending","finish","goto","goto_scene","redirect_scene"].sort().map(function(e){return{name:e,desc:"unknown"}})}}}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/services/languageFacts",["require","exports","../parser/cssNodes","../data/browsers","vscode-nls"],e)}(function(e,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var p=e("../parser/cssNodes"),t=e("../data/browsers"),r=e("vscode-nls").loadMessageBundle();function n(e){var t=e.getName();return!!t&&/^(rgb|rgba|hsl|hsla)$/gi.test(t)}u.colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rebeccapurple:"#663399",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},u.colorKeywords={currentColor:"The value of the 'color' property. The computed value of the 'currentColor' keyword is the computed value of the 'color' property. If the 'currentColor' keyword is set on the 'color' property itself, it is treated as 'color:inherit' at parse time.",transparent:"Fully transparent. This keyword can be considered a shorthand for rgba(0,0,0,0) which is its computed value."},u.positionKeywords={bottom:"Computes to ‘100%’ for the vertical position if one or two values are given, otherwise specifies the bottom edge as the origin for the next offset.",center:"Computes to ‘50%’ (‘left 50%’) for the horizontal position if the horizontal position is not otherwise specified, or ‘50%’ (‘top 50%’) for the vertical position if it is.",left:"Computes to ‘0%’ for the horizontal position if one or two values are given, otherwise specifies the left edge as the origin for the next offset.",right:"Computes to ‘100%’ for the horizontal position if one or two values are given, otherwise specifies the right edge as the origin for the next offset.",top:"Computes to ‘0%’ for the vertical position if one or two values are given, otherwise specifies the top edge as the origin for the next offset."},u.repeatStyleKeywords={"no-repeat":"Placed once and not repeated in this direction.",repeat:"Repeated in this direction as often as needed to cover the background painting area.","repeat-x":"Computes to ‘repeat no-repeat’.","repeat-y":"Computes to ‘no-repeat repeat’.",round:"Repeated as often as will fit within the background positioning area. If it doesn’t fit a whole number of times, it is rescaled so that it does.",space:"Repeated as often as will fit within the background positioning area without being clipped and then the images are spaced out to fill the area."},u.lineStyleKeywords={dashed:"A series of square-ended dashes.",dotted:"A series of round dots.",double:"Two parallel solid lines with some space between them.",groove:"Looks as if it were carved in the canvas.",hidden:"Same as ‘none’, but has different behavior in the border conflict resolution rules for border-collapsed tables.",inset:"Looks as if the content on the inside of the border is sunken into the canvas.",none:"No border. Color and width are ignored.",outset:"Looks as if the content on the inside of the border is coming out of the canvas.",ridge:"Looks as if it were coming out of the canvas.",solid:"A single line segment."},u.lineWidthKeywords=["medium","thick","thin"],u.boxKeywords={"border-box":"The background is painted within (clipped to) the border box.","content-box":"The background is painted within (clipped to) the content box.","padding-box":"The background is painted within (clipped to) the padding box."},u.geometryBoxKeywords={"margin-box":"Uses the margin box as reference box.","fill-box":"Uses the object bounding box as reference box.","stroke-box":"Uses the stroke bounding box as reference box.","view-box":"Uses the nearest SVG viewport as reference box."},u.cssWideKeywords={initial:"Represents the value specified as the property’s initial value.",inherit:"Represents the computed value of the property on the element’s parent.",unset:"Acts as either `inherit` or `initial`, depending on whether the property is inherited or not."},u.colorFunctions=[{func:"rgb($red, $green, $blue)",desc:r("css.builtin.rgb","Creates a Color from red, green, and blue values.")},{func:"rgba($red, $green, $blue, $alpha)",desc:r("css.builtin.rgba","Creates a Color from red, green, blue, and alpha values.")},{func:"hsl($hue, $saturation, $lightness)",desc:r("css.builtin.hsl","Creates a Color from hue, saturation, and lightness values.")},{func:"hsla($hue, $saturation, $lightness, $alpha)",desc:r("css.builtin.hsla","Creates a Color from hue, saturation, lightness, and alpha values.")}],u.imageFunctions={"url()":"Reference an image file by URL","image()":"Provide image fallbacks and annotations.","-webkit-image-set()":"Provide multiple resolutions. Remember to use unprefixed image-set() in addition.","image-set()":"Provide multiple resolutions of an image and let the UA decide which is most appropriate in a given situation.","-moz-element()":"Use an element in the document as an image. Remember to use unprefixed element() in addition.","element()":"Use an element in the document as an image.","cross-fade()":"Indicates the two images to be combined and how far along in the transition the combination is.","-webkit-gradient()":"Deprecated. Use modern linear-gradient() or radial-gradient() instead.","-webkit-linear-gradient()":"Linear gradient. Remember to use unprefixed version in addition.","-moz-linear-gradient()":"Linear gradient. Remember to use unprefixed version in addition.","-o-linear-gradient()":"Linear gradient. Remember to use unprefixed version in addition.","linear-gradient()":"A linear gradient is created by specifying a straight gradient line, and then several colors placed along that line.","-webkit-repeating-linear-gradient()":"Repeating Linear gradient. Remember to use unprefixed version in addition.","-moz-repeating-linear-gradient()":"Repeating Linear gradient. Remember to use unprefixed version in addition.","-o-repeating-linear-gradient()":"RepeatingLinear gradient. Remember to use unprefixed version in addition.","repeating-linear-gradient()":"Same as linear-gradient, except the color-stops are repeated infinitely in both directions, with their positions shifted by multiples of the difference between the last specified color-stop’s position and the first specified color-stop’s position.","-webkit-radial-gradient()":"Radial gradient. Remember to use unprefixed version in addition.","-moz-radial-gradient()":"Radial gradient. Remember to use unprefixed version in addition.","radial-gradient()":"Colors emerge from a single point and smoothly spread outward in a circular or elliptical shape.","-webkit-repeating-radial-gradient()":"Repeating radial gradient. Remember to use unprefixed version in addition.","-moz-repeating-radial-gradient()":"Repeating radial gradient. Remember to use unprefixed version in addition.","repeating-radial-gradient()":"Same as radial-gradient, except the color-stops are repeated infinitely in both directions, with their positions shifted by multiples of the difference between the last specified color-stop’s position and the first specified color-stop’s position."},u.transitionTimingFunctions={ease:"Equivalent to cubic-bezier(0.25, 0.1, 0.25, 1.0).","ease-in":"Equivalent to cubic-bezier(0.42, 0, 1.0, 1.0).","ease-in-out":"Equivalent to cubic-bezier(0.42, 0, 0.58, 1.0).","ease-out":"Equivalent to cubic-bezier(0, 0, 0.58, 1.0).",linear:"Equivalent to cubic-bezier(0.0, 0.0, 1.0, 1.0).","step-end":"Equivalent to steps(1, end).","step-start":"Equivalent to steps(1, start).","steps()":"The first parameter specifies the number of intervals in the function. The second parameter, which is optional, is either the value “start” or “end”.","cubic-bezier()":"Specifies a cubic-bezier curve. The four values specify points P1 and P2  of the curve as (x1, y1, x2, y2).","cubic-bezier(0.6, -0.28, 0.735, 0.045)":"Ease-in Back. Overshoots.","cubic-bezier(0.68, -0.55, 0.265, 1.55)":"Ease-in-out Back. Overshoots.","cubic-bezier(0.175, 0.885, 0.32, 1.275)":"Ease-out Back. Overshoots.","cubic-bezier(0.6, 0.04, 0.98, 0.335)":"Ease-in Circular. Based on half circle.","cubic-bezier(0.785, 0.135, 0.15, 0.86)":"Ease-in-out Circular. Based on half circle.","cubic-bezier(0.075, 0.82, 0.165, 1)":"Ease-out Circular. Based on half circle.","cubic-bezier(0.55, 0.055, 0.675, 0.19)":"Ease-in Cubic. Based on power of three.","cubic-bezier(0.645, 0.045, 0.355, 1)":"Ease-in-out Cubic. Based on power of three.","cubic-bezier(0.215, 0.610, 0.355, 1)":"Ease-out Cubic. Based on power of three.","cubic-bezier(0.95, 0.05, 0.795, 0.035)":"Ease-in Exponential. Based on two to the power ten.","cubic-bezier(1, 0, 0, 1)":"Ease-in-out Exponential. Based on two to the power ten.","cubic-bezier(0.19, 1, 0.22, 1)":"Ease-out Exponential. Based on two to the power ten.","cubic-bezier(0.47, 0, 0.745, 0.715)":"Ease-in Sine.","cubic-bezier(0.445, 0.05, 0.55, 0.95)":"Ease-in-out Sine.","cubic-bezier(0.39, 0.575, 0.565, 1)":"Ease-out Sine.","cubic-bezier(0.55, 0.085, 0.68, 0.53)":"Ease-in Quadratic. Based on power of two.","cubic-bezier(0.455, 0.03, 0.515, 0.955)":"Ease-in-out Quadratic. Based on power of two.","cubic-bezier(0.25, 0.46, 0.45, 0.94)":"Ease-out Quadratic. Based on power of two.","cubic-bezier(0.895, 0.03, 0.685, 0.22)":"Ease-in Quartic. Based on power of four.","cubic-bezier(0.77, 0, 0.175, 1)":"Ease-in-out Quartic. Based on power of four.","cubic-bezier(0.165, 0.84, 0.44, 1)":"Ease-out Quartic. Based on power of four.","cubic-bezier(0.755, 0.05, 0.855, 0.06)":"Ease-in Quintic. Based on power of five.","cubic-bezier(0.86, 0, 0.07, 1)":"Ease-in-out Quintic. Based on power of five.","cubic-bezier(0.23, 1, 0.320, 1)":"Ease-out Quintic. Based on power of five."},u.basicShapeFunctions={"circle()":"Defines a circle.","ellipse()":"Defines an ellipse.","inset()":"Defines an inset rectangle.","polygon()":"Defines a polygon."},u.units={length:["em","rem","ex","px","cm","mm","in","pt","pc","ch","vw","vh","vmin","vmax"],angle:["deg","rad","grad","turn"],time:["ms","s"],frequency:["Hz","kHz"],resolution:["dpi","dpcm","dppx"],percentage:["%","fr"]},u.html5Tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","let","video","wbr"],u.svgElements=["circle","clipPath","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","hatch","hatchpath","image","line","linearGradient","marker","mask","mesh","meshpatch","meshrow","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","solidcolor","stop","svg","switch","symbol","text","textPath","tspan","use","view"],u.isColorConstructor=n,u.isColorValue=function(e){if(e.type===p.NodeType.HexColorValue)return!0;if(e.type===p.NodeType.Function)return n(e);if(e.type===p.NodeType.Identifier){if(e.parent&&e.parent.type!==p.NodeType.Term)return!1;var t=e.getText().toLowerCase();if("none"===t)return!1;if(u.colors[t])return!0}return!1};var i=48,o=57,s=65,a=97,c=102;function l(e){return e<i?0:e<=o?e-i:(e<a&&(e+=a-s),a<=e&&e<=c?e-a+10:0)}function f(e){if("#"!==e[0])return null;switch(e.length){case 4:return{red:17*l(e.charCodeAt(1))/255,green:17*l(e.charCodeAt(2))/255,blue:17*l(e.charCodeAt(3))/255,alpha:1};case 5:return{red:17*l(e.charCodeAt(1))/255,green:17*l(e.charCodeAt(2))/255,blue:17*l(e.charCodeAt(3))/255,alpha:17*l(e.charCodeAt(4))/255};case 7:return{red:(16*l(e.charCodeAt(1))+l(e.charCodeAt(2)))/255,green:(16*l(e.charCodeAt(3))+l(e.charCodeAt(4)))/255,blue:(16*l(e.charCodeAt(5))+l(e.charCodeAt(6)))/255,alpha:1};case 9:return{red:(16*l(e.charCodeAt(1))+l(e.charCodeAt(2)))/255,green:(16*l(e.charCodeAt(3))+l(e.charCodeAt(4)))/255,blue:(16*l(e.charCodeAt(5))+l(e.charCodeAt(6)))/255,alpha:(16*l(e.charCodeAt(7))+l(e.charCodeAt(8)))/255}}return null}function d(e,t,r,n){if(void 0===n&&(n=1),0===t)return{red:r,green:r,blue:r,alpha:n};var i=function(e,t,r){for(;r<0;)r+=6;for(;6<=r;)r-=6;return r<1?(t-e)*r+e:r<3?t:r<4?(t-e)*(4-r)+e:e},o=r<=.5?r*(t+1):r+t-r*t,s=2*r-o;return{red:i(s,o,(e/=60)+2),green:i(s,o,e),blue:i(s,o,e-2),alpha:n}}function h(e,t){var r=e.getText().match(/^([-+]?[0-9]*\.?[0-9]+)(%?)$/);if(r){r[2]&&(t=100);var n=parseFloat(r[1])/t;if(0<=n&&n<=1)return n}throw new Error}function g(e){switch(e){case"e":return"experimental";case"n":return"nonstandard";case"o":return"obsolete";default:return"standard"}}u.hexDigit=l,u.colorFromHex=f,u.colorFrom256RGB=function(e,t,r,n){return void 0===n&&(n=1),{red:e/255,green:t/255,blue:r/255,alpha:n}},u.colorFromHSL=d,u.hslFromColor=function(e){var t=e.red,r=e.green,n=e.blue,i=e.alpha,o=Math.max(t,r,n),s=Math.min(t,r,n),a=0,c=0,u=(s+o)/2,p=o-s;if(0<p){switch(c=Math.min(u<=.5?p/(2*u):p/(2-2*u),1),o){case t:a=(r-n)/p+(r<n?6:0);break;case r:a=(n-t)/p+2;break;case n:a=(t-r)/p+4}a*=60,a=Math.round(a)}return{h:a,s:c,l:u,a:i}},u.getColorValue=function(e){if(e.type===p.NodeType.HexColorValue)return f(e.getText());if(e.type===p.NodeType.Function){var t=e,r=t.getName(),n=t.getArguments().getChildren();if(!r||n.length<3||4<n.length)return null;try{var i=4===n.length?h(n[3],1):1;if("rgb"===r||"rgba"===r)return{red:h(n[0],255),green:h(n[1],255),blue:h(n[2],255),alpha:i};if("hsl"===r||"hsla"===r)return d(function(e){var t=e.getText();if(t.match(/^([-+]?[0-9]*\.?[0-9]+)(deg)?$/))return parseFloat(t)%360;throw new Error}(n[0]),h(n[1],100),h(n[2],100),i)}catch(e){return null}}else if(e.type===p.NodeType.Identifier){if(e.parent&&e.parent.type!==p.NodeType.Term)return null;var o=e.parent;if(o.parent&&o.parent.type===p.NodeType.BinaryExpression){var s=o.parent;if(s.parent&&s.parent.type===p.NodeType.ListEntry&&s.parent.key===s)return null}var a=e.getText().toLowerCase();if("none"===a)return null;var c=u.colors[a];if(c)return f(c)}return null},u.isCommonValue=function(e){return 1<e.browsers.count},u.getPageBoxDirectives=function(){return["@bottom-center","@bottom-left","@bottom-left-corner","@bottom-right","@bottom-right-corner","@left-bottom","@left-middle","@left-top","@right-bottom","@right-middle","@right-top","@top-center","@top-left","@top-left-corner","@top-right","@top-right-corner"]},u.expandEntryStatus=g;var m,y=function(){function e(e){this.data=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this.data.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this.data.desc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restrictions",{get:function(){return this.data.restriction?this.data.restriction.split(",").map(function(e){return e.trim()}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return g(this.data.status)},enumerable:!0,configurable:!0}),e}(),v=t.data.css.builtins;u.getBuiltins=function(){if(!m){m=[];for(var e=0;e<v.length;e++){var t=v[e];m.push(new y(t))}}return m};var b,x=t.data.css.flowCommands;u.getFlowCommands=function(){if(!b){b=[];for(var e=0;e<x.length;e++){var t=x[e];b.push(new y(t))}}return b}}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/parser/cssParser",["require","exports","./cssScanner","./cssNodes","./cssErrors","../services/languageFacts"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("./cssScanner"),a=e("./cssNodes"),c=e("./cssErrors"),r=e("../services/languageFacts"),n=function(){function e(e){void 0===e&&(e=new s.Scanner),this.scanner=e,this.token=null,this.prevToken=null}return e.prototype.peekIdent=function(e){return s.TokenType.Ident===this.token.type&&e.length===this.token.text.length&&e===this.token.text.toLowerCase()},e.prototype.peekKeyword=function(e){return s.TokenType.AtKeyword===this.token.type&&e.length===this.token.text.length&&e===this.token.text.toLowerCase()},e.prototype.peekDelim=function(e){return s.TokenType.Delim===this.token.type&&e===this.token.text},e.prototype.peek=function(e){return e===this.token.type},e.prototype.peekRegExp=function(e,t){return e===this.token.type&&t.test(this.token.text)},e.prototype.hasWhitespace=function(){return this.prevToken&&this.prevToken.offset+this.prevToken.len!==this.token.offset},e.prototype.consumeToken=function(){this.prevToken=this.token,this.token=this.scanner.scan()},e.prototype.mark=function(){return{prev:this.prevToken,curr:this.token,pos:this.scanner.pos()}},e.prototype.restoreAtMark=function(e){this.prevToken=e.prev,this.token=e.curr,this.scanner.goBackTo(e.pos)},e.prototype.try=function(e){var t=this.mark(),r=e();return r||(this.restoreAtMark(t),null)},e.prototype.acceptOneKeyword=function(e){if(s.TokenType.Builtin===this.token.type)for(var t=0,r=e;t<r.length;t++){var n=r[t];if(n.length===this.token.text.length&&n===this.token.text.toLowerCase())return this.consumeToken(),!0}return!1},e.prototype.accept=function(e){return e===this.token.type&&(this.consumeToken(),!0)},e.prototype.acceptIdent=function(e){return!!this.peekIdent(e)&&(this.consumeToken(),!0)},e.prototype.acceptKeyword=function(e){return!!this.peekKeyword(e)&&(this.consumeToken(),!0)},e.prototype.acceptDelim=function(e){return!!this.peekDelim(e)&&(this.consumeToken(),!0)},e.prototype.acceptUnquotedString=function(){var e=this.scanner.pos();this.scanner.goBackTo(this.token.offset);var t=this.scanner.scanUnquotedString();return t?(this.token=t,this.consumeToken(),!0):(this.scanner.goBackTo(e),!1)},e.prototype.resync=function(e,t){for(;;){if(e&&-1!==e.indexOf(this.token.type))return this.consumeToken(),!0;if(t&&-1!==t.indexOf(this.token.type))return!0;if(this.token.type===s.TokenType.EOF)return!1;this.token=this.scanner.scan()}},e.prototype.createNode=function(e){return new a.Node(this.token.offset,this.token.len,e)},e.prototype.create=function(e){var t=Object.create(e.prototype);return e.apply(t,[this.token.offset,this.token.len]),t},e.prototype.finish=function(e,t,r,n){if(!(e instanceof a.Nodelist)&&(t&&this.markError(e,t,r,n),null!==this.prevToken)){var i=this.prevToken.offset+this.prevToken.len;e.length=i>e.offset?i-e.offset:0}return e},e.prototype.markError=function(e,t,r,n){this.token!==this.lastErrorToken&&(e.addIssue(new a.Marker(e,t,a.Level.Error,null,this.token.offset,this.token.len)),this.lastErrorToken=this.token),(r||n)&&this.resync(r,n)},e.prototype.parseStylesheet=function(r){var n=r.version;return this.internalParse(r.getText(),this._parseStylesheet,function(e,t){if(r.version!==n)throw new Error("Underlying model has changed, AST is no longer valid");return r.getText().substr(e,t)})},e.prototype.internalParse=function(r,e,t){this.scanner.setSource(r),this.token=this.scanner.scan();var n=e.bind(this)();return n&&(n.textProvider=t||function(e,t){return r.substr(e,t)}),n},e.prototype._parseStylesheet=function(){var e=this.create(a.Stylesheet);e.addChild(this._parseCharset());do{var t=!1;do{t=!1;var r=this._parseStylesheetStatement();if(r)e.addChild(r),t=!0;else{var n=this._parseTextLine();n&&(e.addChild(n),t=!0)}}while(t);if(this.peek(s.TokenType.EOF))break;this.consumeToken()}while(!this.peek(s.TokenType.EOF));return this.finish(e)},e.prototype._parseStylesheetStatement=function(){if(this.peek(s.TokenType.SingleLineComment)){var e=this.create(a.Node);return this.consumeToken(),this.finish(e)}return this.peek(s.TokenType.Builtin)||this.peek(s.TokenType.Invalid)?this._parseCommand():null},e.prototype._parseTextLine=function(){for(var e=this.createNode(a.NodeType.TextLine);this.peek(s.TokenType.Word);){var t=this.createNode(a.NodeType.RealWord);e.addChild(t),this.consumeToken(),this.finish(t)}return e.hasChildren()?this.finish(e):null},e.prototype._parseCommand=function(){return this._parseBasicCommand()||this._parseInvalid()},e.prototype._parseBasicCommand=function(){var e=this.create(a.Builtin);return this.acceptOneKeyword(r.getBuiltins().map(function(e){return"*"+e.name}))||(this.markError(e,c.ParseError.UnknownCommand),this.consumeToken()),this.finish(e)},e.prototype._parseInvalid=function(){var e=this.create(a.Builtin);return this.consumeToken(),this.finish(e,c.ParseError.UnknownCommand)},e.prototype._parseStylesheetAtStatement=function(){return this._parseDocument()},e.prototype._tryParseRuleset=function(e){var t=this.mark();if(this._parseSelector(e)){for(;this.accept(s.TokenType.Comma)&&this._parseSelector(e););if(this.accept(s.TokenType.CurlyL))return this.restoreAtMark(t),this._parseRuleset(e)}return this.restoreAtMark(t),null},e.prototype._parseRuleset=function(e){void 0===e&&(e=!1);var t=this.create(a.RuleSet);if(!t.getSelectors().addChild(this._parseSelector(e)))return null;for(;this.accept(s.TokenType.Comma)&&t.getSelectors().addChild(this._parseSelector(e)););return this._parseBody(t,this._parseRuleSetDeclaration.bind(this))},e.prototype._parseRuleSetDeclaration=function(){return this._parseAtApply()||this._tryParseCustomPropertyDeclaration()||this._parseDeclaration()},e.prototype._parseAtApply=function(){if(!this.peekKeyword("@apply"))return null;var e=this.create(a.AtApplyRule);return this.consumeToken(),e.setIdentifier(this._parseIdent([a.ReferenceType.Variable]))?this.finish(e):this.finish(e,c.ParseError.IdentifierExpected)},e.prototype._needsSemicolonAfter=function(e){switch(e.type){case a.NodeType.Keyframe:case a.NodeType.ViewPort:case a.NodeType.Media:case a.NodeType.Ruleset:case a.NodeType.Namespace:case a.NodeType.If:case a.NodeType.For:case a.NodeType.Each:case a.NodeType.While:case a.NodeType.MixinDeclaration:case a.NodeType.FunctionDeclaration:return!1;case a.NodeType.VariableDeclaration:case a.NodeType.ExtendsReference:case a.NodeType.MixinContent:case a.NodeType.ReturnStatement:case a.NodeType.MediaQuery:case a.NodeType.Debug:case a.NodeType.Import:case a.NodeType.AtApplyRule:case a.NodeType.CustomPropertyDeclaration:return!0;case a.NodeType.MixinReference:return!e.getContent();case a.NodeType.Declaration:return!e.getNestedProperties()}return!1},e.prototype._parseDeclarations=function(e){var t=this.create(a.Declarations);if(!this.accept(s.TokenType.CurlyL))return null;for(var r=e();t.addChild(r)&&!this.peek(s.TokenType.CurlyR);){if(this._needsSemicolonAfter(r)&&!this.accept(s.TokenType.SemiColon))return this.finish(t,c.ParseError.SemiColonExpected,[s.TokenType.SemiColon,s.TokenType.CurlyR]);for(;this.accept(s.TokenType.SemiColon););r=e()}return this.accept(s.TokenType.CurlyR)?this.finish(t):this.finish(t,c.ParseError.RightCurlyExpected,[s.TokenType.CurlyR,s.TokenType.SemiColon])},e.prototype._parseBody=function(e,t){return e.setDeclarations(this._parseDeclarations(t))?this.finish(e):this.finish(e,c.ParseError.LeftCurlyExpected,[s.TokenType.CurlyR,s.TokenType.SemiColon])},e.prototype._parseSelector=function(e){var t=this.create(a.Selector),r=!1;for(e&&(r=t.addChild(this._parseCombinator()));t.addChild(this._parseSimpleSelector());)r=!0,t.addChild(this._parseCombinator());return r?this.finish(t):null},e.prototype._parseDeclaration=function(e){var t=this.create(a.Declaration);return t.setProperty(this._parseProperty())?this.accept(s.TokenType.Colon)?(t.colonPosition=this.prevToken.offset,t.setValue(this._parseExpr())?(t.addChild(this._parsePrio()),this.peek(s.TokenType.SemiColon)&&(t.semicolonPosition=this.token.offset),this.finish(t)):this.finish(t,c.ParseError.PropertyValueExpected)):this.finish(t,c.ParseError.ColonExpected,[s.TokenType.Colon],e):null},e.prototype._tryParseCustomPropertyDeclaration=function(){if(!this.peekRegExp(s.TokenType.Ident,/^--/))return null;var e=this.create(a.CustomPropertyDeclaration);if(!e.setProperty(this._parseProperty()))return null;if(!this.accept(s.TokenType.Colon))return this.finish(e,c.ParseError.ColonExpected,[s.TokenType.Colon]);e.colonPosition=this.prevToken.offset;var t=this.mark();if(this.peek(s.TokenType.CurlyL)){var r=this.create(a.CustomPropertySet),n=this._parseDeclarations(this._parseRuleSetDeclaration.bind(this));if(r.setDeclarations(n)&&!n.isErroneous(!0)&&(r.addChild(this._parsePrio()),this.peek(s.TokenType.SemiColon)))return this.finish(r),e.setPropertySet(r),e.semicolonPosition=this.token.offset,this.finish(e);this.restoreAtMark(t)}var i=this._parseExpr();return i&&!i.isErroneous(!0)&&(this._parsePrio(),this.peek(s.TokenType.SemiColon))?(e.setValue(i),e.semicolonPosition=this.token.offset,this.finish(e)):(this.restoreAtMark(t),e.addChild(this._parseCustomPropertyValue()),e.addChild(this._parsePrio()),this.token.offset===e.colonPosition+1?this.finish(e,c.ParseError.PropertyValueExpected):this.finish(e))},e.prototype._parseCustomPropertyValue=function(){var e=this.create(a.Node),t=function(){return 0===r&&0===n&&0===i},r=0,n=0,i=0;e:for(;;){switch(this.token.type){case s.TokenType.SemiColon:case s.TokenType.Exclamation:if(t())break e;break;case s.TokenType.CurlyL:r++;break;case s.TokenType.CurlyR:if(--r<0){if(0===n&&0===i)break e;return this.finish(e,c.ParseError.LeftCurlyExpected)}break;case s.TokenType.ParenthesisL:n++;break;case s.TokenType.ParenthesisR:if(--n<0)return this.finish(e,c.ParseError.LeftParenthesisExpected);break;case s.TokenType.BracketL:i++;break;case s.TokenType.BracketR:if(--i<0)return this.finish(e,c.ParseError.LeftSquareBracketExpected);break;case s.TokenType.BadString:break e;case s.TokenType.EOF:var o=c.ParseError.RightCurlyExpected;return 0<i?o=c.ParseError.RightSquareBracketExpected:0<n&&(o=c.ParseError.RightParenthesisExpected),this.finish(e,o)}this.consumeToken()}return this.finish(e)},e.prototype._tryToParseDeclaration=function(){var e=this.mark();return this._parseProperty()&&this.accept(s.TokenType.Colon)?(this.restoreAtMark(e),this._parseDeclaration()):(this.restoreAtMark(e),null)},e.prototype._parseProperty=function(){var e=this.create(a.Property),t=this.mark();return(this.acceptDelim("*")||this.acceptDelim("_"))&&this.hasWhitespace()?(this.restoreAtMark(t),null):e.setIdentifier(this._parsePropertyIdentifier())?this.finish(e):null},e.prototype._parsePropertyIdentifier=function(){return this._parseIdent()},e.prototype._parseCharset=function(){if(!this.peek(s.TokenType.Charset))return null;var e=this.create(a.Node);return this.consumeToken(),this.accept(s.TokenType.String)?this.accept(s.TokenType.SemiColon)?this.finish(e):this.finish(e,c.ParseError.SemiColonExpected):this.finish(e,c.ParseError.IdentifierExpected)},e.prototype._parseDocument=function(){if(!this.peekKeyword("@-moz-document"))return null;var e=this.create(a.Document);return this.consumeToken(),this.resync([],[s.TokenType.CurlyL]),this._parseBody(e,this._parseStylesheetStatement.bind(this))},e.prototype._parseOperator=function(){if(this.peekDelim("/")||this.peekDelim("*")||this.peekDelim("+")||this.peekDelim("-")||this.peek(s.TokenType.Dashmatch)||this.peek(s.TokenType.Includes)||this.peek(s.TokenType.SubstringOperator)||this.peek(s.TokenType.PrefixOperator)||this.peek(s.TokenType.SuffixOperator)||this.peekDelim("=")){var e=this.createNode(a.NodeType.Operator);return this.consumeToken(),this.finish(e)}return null},e.prototype._parseUnaryOperator=function(){if(!this.peekDelim("+")&&!this.peekDelim("-"))return null;var e=this.create(a.Node);return this.consumeToken(),this.finish(e)},e.prototype._parseCombinator=function(){if(this.peekDelim(">")){var e=this.create(a.Node);this.consumeToken();var t=this.mark();if(!this.hasWhitespace()&&this.acceptDelim(">")){if(!this.hasWhitespace()&&this.acceptDelim(">"))return e.type=a.NodeType.SelectorCombinatorShadowPiercingDescendant,this.finish(e);this.restoreAtMark(t)}return e.type=a.NodeType.SelectorCombinatorParent,this.finish(e)}if(this.peekDelim("+")){e=this.create(a.Node);return this.consumeToken(),e.type=a.NodeType.SelectorCombinatorSibling,this.finish(e)}if(this.peekDelim("~")){e=this.create(a.Node);return this.consumeToken(),e.type=a.NodeType.SelectorCombinatorAllSiblings,this.finish(e)}if(!this.peekDelim("/"))return null;e=this.create(a.Node);this.consumeToken();t=this.mark();if(!this.hasWhitespace()&&this.acceptIdent("deep")&&!this.hasWhitespace()&&this.acceptDelim("/"))return e.type=a.NodeType.SelectorCombinatorShadowPiercingDescendant,this.finish(e);this.restoreAtMark(t)},e.prototype._parseSimpleSelector=function(){var e=this.create(a.SimpleSelector),t=0;for(e.addChild(this._parseElementName())&&t++;(0===t||!this.hasWhitespace())&&e.addChild(this._parseSimpleSelectorBody());)t++;return 0<t?this.finish(e):null},e.prototype._parseSimpleSelectorBody=function(){return this._parsePseudo()||this._parseHash()||this._parseClass()||this._parseAttrib()},e.prototype._parseSelectorIdent=function(){return this._parseIdent()},e.prototype._parseHash=function(){if(!this.peek(s.TokenType.Hash)&&!this.peekDelim("#"))return null;var e=this.createNode(a.NodeType.IdentifierSelector);if(this.acceptDelim("#")){if(this.hasWhitespace()||!e.addChild(this._parseSelectorIdent()))return this.finish(e,c.ParseError.IdentifierExpected)}else this.consumeToken();return this.finish(e)},e.prototype._parseClass=function(){if(!this.peekDelim("."))return null;var e=this.createNode(a.NodeType.ClassSelector);return this.consumeToken(),this.hasWhitespace()||!e.addChild(this._parseSelectorIdent())?this.finish(e,c.ParseError.IdentifierExpected):this.finish(e)},e.prototype._parseElementName=function(){var e=this.mark(),t=this.createNode(a.NodeType.ElementNameSelector);return t.addChild(this._parseNamespacePrefix()),t.addChild(this._parseSelectorIdent())||this.acceptDelim("*")?this.finish(t):(this.restoreAtMark(e),null)},e.prototype._parseNamespacePrefix=function(){var e=this.mark(),t=this.createNode(a.NodeType.NamespacePrefix);return!t.addChild(this._parseIdent())&&this.acceptDelim("*"),this.acceptDelim("|")?this.finish(t):(this.restoreAtMark(e),null)},e.prototype._parseAttrib=function(){if(!this.peek(s.TokenType.BracketL))return null;var e=this.create(a.AttributeSelector);return this.consumeToken(),e.setNamespacePrefix(this._parseNamespacePrefix()),e.setIdentifier(this._parseIdent())?(e.setOperator(this._parseOperator())&&(e.setValue(this._parseBinaryExpr()),this.acceptIdent("i")),this.accept(s.TokenType.BracketR)?this.finish(e):this.finish(e,c.ParseError.RightSquareBracketExpected)):this.finish(e,c.ParseError.IdentifierExpected)},e.prototype._parsePseudo=function(){var t=this,e=this._tryParsePseudoIdentifier();if(e){if(!this.hasWhitespace()&&this.accept(s.TokenType.ParenthesisL)){if(e.addChild(this.try(function(){var e=t.create(a.Node);if(!e.addChild(t._parseSelector(!1)))return null;for(;t.accept(s.TokenType.Comma)&&e.addChild(t._parseSelector(!1)););return t.peek(s.TokenType.ParenthesisR)?t.finish(e):void 0})||this._parseBinaryExpr()),!this.accept(s.TokenType.ParenthesisR))return this.finish(e,c.ParseError.RightParenthesisExpected)}return this.finish(e)}return null},e.prototype._tryParsePseudoIdentifier=function(){if(!this.peek(s.TokenType.Colon))return null;var e=this.mark(),t=this.createNode(a.NodeType.PseudoSelector);return this.consumeToken(),this.hasWhitespace()?(this.restoreAtMark(e),null):(this.accept(s.TokenType.Colon)&&this.hasWhitespace()&&this.markError(t,c.ParseError.IdentifierExpected),t.addChild(this._parseIdent())||this.markError(t,c.ParseError.IdentifierExpected),t)},e.prototype._tryParsePrio=function(){var e=this.mark(),t=this._parsePrio();return t||(this.restoreAtMark(e),null)},e.prototype._parsePrio=function(){if(!this.peek(s.TokenType.Exclamation))return null;var e=this.createNode(a.NodeType.Prio);return this.accept(s.TokenType.Exclamation)&&this.acceptIdent("important")?this.finish(e):null},e.prototype._parseExpr=function(e){void 0===e&&(e=!1);var t=this.create(a.Expression);if(!t.addChild(this._parseBinaryExpr()))return null;for(;;){if(this.peek(s.TokenType.Comma)){if(e)return this.finish(t);this.consumeToken()}if(!t.addChild(this._parseBinaryExpr()))break}return this.finish(t)},e.prototype._parseNamedLine=function(){if(!this.peek(s.TokenType.BracketL))return null;var e=this.createNode(a.NodeType.GridLine);for(this.consumeToken();e.addChild(this._parseIdent()););return this.accept(s.TokenType.BracketR)?this.finish(e):this.finish(e,c.ParseError.RightSquareBracketExpected)},e.prototype._parseBinaryExpr=function(e,t){var r=this.create(a.BinaryExpression);if(!r.setLeft(e||this._parseTerm()))return null;if(!r.setOperator(t||this._parseOperator()))return this.finish(r);if(!r.setRight(this._parseTerm()))return this.finish(r,c.ParseError.TermExpected);r=this.finish(r);var n=this._parseOperator();return n&&(r=this._parseBinaryExpr(r,n)),this.finish(r)},e.prototype._parseTerm=function(){var e=this.create(a.Term);return e.setOperator(this._parseUnaryOperator()),e.setExpression(this._parseURILiteral())||e.setExpression(this._parseFunction())||e.setExpression(this._parseIdent())||e.setExpression(this._parseStringLiteral())||e.setExpression(this._parseNumeric())||e.setExpression(this._parseHexColor())||e.setExpression(this._parseOperation())||e.setExpression(this._parseNamedLine())?this.finish(e):null},e.prototype._parseOperation=function(){if(!this.peek(s.TokenType.ParenthesisL))return null;var e=this.create(a.Node);return this.consumeToken(),e.addChild(this._parseExpr()),this.accept(s.TokenType.ParenthesisR)?this.finish(e):this.finish(e,c.ParseError.RightParenthesisExpected)},e.prototype._parseNumeric=function(){if(this.peek(s.TokenType.Num)||this.peek(s.TokenType.Percentage)||this.peek(s.TokenType.Resolution)||this.peek(s.TokenType.Length)||this.peek(s.TokenType.EMS)||this.peek(s.TokenType.EXS)||this.peek(s.TokenType.Angle)||this.peek(s.TokenType.Time)||this.peek(s.TokenType.Dimension)||this.peek(s.TokenType.Freq)){var e=this.create(a.NumericValue);return this.consumeToken(),this.finish(e)}return null},e.prototype._parseStringLiteral=function(){if(!this.peek(s.TokenType.String)&&!this.peek(s.TokenType.BadString))return null;var e=this.createNode(a.NodeType.StringLiteral);return this.consumeToken(),this.finish(e)},e.prototype._parseURILiteral=function(){if(!this.peekRegExp(s.TokenType.Ident,/^url(-prefix)?$/i))return null;var e=this.mark(),t=this.createNode(a.NodeType.URILiteral);return this.accept(s.TokenType.Ident),this.hasWhitespace()||!this.peek(s.TokenType.ParenthesisL)?(this.restoreAtMark(e),null):(this.scanner.inURL=!0,this.consumeToken(),t.addChild(this._parseURLArgument()),this.scanner.inURL=!1,this.accept(s.TokenType.ParenthesisR)?this.finish(t):this.finish(t,c.ParseError.RightParenthesisExpected))},e.prototype._parseURLArgument=function(){var e=this.create(a.Node);return this.accept(s.TokenType.String)||this.accept(s.TokenType.BadString)||this.acceptUnquotedString()?this.finish(e):null},e.prototype._parseIdent=function(e){if(!this.peek(s.TokenType.Ident))return null;var t=this.create(a.Identifier);return e&&(t.referenceTypes=e),t.isCustomProperty=this.peekRegExp(s.TokenType.Ident,/^--/),this.consumeToken(),this.finish(t)},e.prototype._parseFunction=function(){var e=this.mark(),t=this.create(a.Function);if(!t.setIdentifier(this._parseFunctionIdentifier()))return null;if(this.hasWhitespace()||!this.accept(s.TokenType.ParenthesisL))return this.restoreAtMark(e),null;if(t.getArguments().addChild(this._parseFunctionArgument()))for(;this.accept(s.TokenType.Comma)&&!this.peek(s.TokenType.ParenthesisR);)t.getArguments().addChild(this._parseFunctionArgument())||this.markError(t,c.ParseError.ExpressionExpected);return this.accept(s.TokenType.ParenthesisR)?this.finish(t):this.finish(t,c.ParseError.RightParenthesisExpected)},e.prototype._parseFunctionIdentifier=function(){if(!this.peek(s.TokenType.Ident))return null;var e=this.create(a.Identifier);if(e.referenceTypes=[a.ReferenceType.Function],this.acceptIdent("progid")){if(this.accept(s.TokenType.Colon))for(;this.accept(s.TokenType.Ident)&&this.acceptDelim("."););return this.finish(e)}return this.consumeToken(),this.finish(e)},e.prototype._parseFunctionArgument=function(){var e=this.create(a.FunctionArgument);return e.setValue(this._parseExpr(!0))?this.finish(e):null},e.prototype._parseHexColor=function(){if(this.peekRegExp(s.TokenType.Hash,/^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{4}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/g)){var e=this.create(a.HexColorValue);return this.consumeToken(),this.finish(e)}return null},e}();t.Parser=n}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/utils/arrays",["require","exports"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findFirst=function(e,t){var r=0,n=e.length;if(0===n)return 0;for(;r<n;){var i=Math.floor((r+n)/2);t(e[i])?n=i:r=i+1}return r}});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/parser/cssSymbolScope",["require","exports","./cssNodes","../utils/arrays"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=e("./cssNodes"),o=e("../utils/arrays"),n=function(){function e(e,t){this.offset=e,this.length=t,this.symbols=[],this.parent=null,this.children=[]}return e.prototype.addChild=function(e){this.children.push(e),e.setParent(this)},e.prototype.setParent=function(e){this.parent=e},e.prototype.findScope=function(e,t){return void 0===t&&(t=0),this.offset<=e&&this.offset+this.length>e+t||this.offset===e&&this.length===t?this.findInScope(e,t):null},e.prototype.findInScope=function(e,t){void 0===t&&(t=0);var r=e+t,n=o.findFirst(this.children,function(e){return e.offset>r});if(0===n)return this;var i=this.children[n-1];return i.offset<=e&&i.offset+i.length>=e+t?i.findInScope(e,t):this},e.prototype.addSymbol=function(e){this.symbols.push(e)},e.prototype.getSymbol=function(e,t){for(var r=0;r<this.symbols.length;r++){var n=this.symbols[r];if(n.name===e&&n.type===t)return n}return null},e.prototype.getSymbols=function(){return this.symbols},e}(),r=function(e){function t(){return e.call(this,0,Number.MAX_VALUE)||this}return __extends(t,e),t}(t.Scope=n);t.GlobalScope=r;var s=function(e,t,r,n){this.name=e,this.value=t,this.node=r,this.type=n};t.Symbol=s;var i=function(){function e(e){this.scope=e}return e.prototype.addSymbol=function(e,t,r,n){if(-1!==e.offset){var i=this.scope.findScope(e.offset,e.length);i&&i.addSymbol(new s(t,r,e,n))}},e.prototype.addScope=function(e){if(-1!==e.offset){var t=this.scope.findScope(e.offset,e.length);if(t&&(t.offset!==e.offset||t.length!==e.length)){var r=new n(e.offset,e.length);return t.addChild(r),r}return t}return null},e.prototype.addSymbolToChildScope=function(e,t,r,n,i){if(e&&-1!==e.offset){var o=this.addScope(e);o&&o.addSymbol(new s(r,n,t,i))}},e.prototype.visitNode=function(e){switch(e.type){case p.NodeType.Keyframe:return this.addSymbol(e,e.getName(),void 0,p.ReferenceType.Keyframe),!0;case p.NodeType.CustomPropertyDeclaration:return this.visitCustomPropertyDeclarationNode(e);case p.NodeType.VariableDeclaration:return this.visitVariableDeclarationNode(e);case p.NodeType.Ruleset:return this.visitRuleSet(e);case p.NodeType.MixinDeclaration:return this.addSymbol(e,e.getName(),void 0,p.ReferenceType.Mixin),!0;case p.NodeType.FunctionDeclaration:return this.addSymbol(e,e.getName(),void 0,p.ReferenceType.Function),!0;case p.NodeType.FunctionParameter:return this.visitFunctionParameterNode(e);case p.NodeType.Declarations:return this.addScope(e),!0;case p.NodeType.For:var t=e,r=t.getDeclarations();return r&&this.addSymbolToChildScope(r,t.variable,t.variable.getName(),void 0,p.ReferenceType.Variable),!0;case p.NodeType.Each:var n=e,i=n.getDeclarations();if(i)for(var o=0,s=n.getVariables().getChildren();o<s.length;o++){var a=s[o];this.addSymbolToChildScope(i,a,a.getName(),void 0,p.ReferenceType.Variable)}return!0}return!0},e.prototype.visitRuleSet=function(e){var t=this.scope.findScope(e.offset,e.length);if(t)for(var r=0,n=e.getSelectors().getChildren();r<n.length;r++){var i=n[r];i instanceof p.Selector&&1===i.getChildren().length&&t.addSymbol(new s(i.getChild(0).getText(),void 0,i,p.ReferenceType.Rule))}return!0},e.prototype.visitVariableDeclarationNode=function(e){var t=e.getValue()?e.getValue().getText():void 0;return this.addSymbol(e,e.getName(),t,p.ReferenceType.Variable),!0},e.prototype.visitFunctionParameterNode=function(e){var t=e.getParent().getDeclarations();if(t){var r=e.getDefaultValue(),n=r?r.getText():void 0;this.addSymbolToChildScope(t,e,e.getName(),n,p.ReferenceType.Variable)}return!0},e.prototype.visitCustomPropertyDeclarationNode=function(e){var t=e.getValue()?e.getValue().getText():"";return this.addCSSVariable(e.getProperty(),e.getProperty().getName(),t,p.ReferenceType.Variable),!0},e.prototype.addCSSVariable=function(e,t,r,n){-1!==e.offset&&this.scope.addSymbol(new s(t,r,e,n))},e}();t.ScopeBuilder=i;var a=function(){function e(e){this.global=new r,e.acceptVisitor(new i(this.global))}return e.prototype.findSymbolsAtOffset=function(e,t){for(var r=this.global.findScope(e,0),n=[],i={};r;){for(var o=r.getSymbols(),s=0;s<o.length;s++){var a=o[s];a.type!==t||i[a.name]||(n.push(a),i[a.name]=!0)}r=r.parent}return n},e.prototype.internalFindSymbol=function(e,t){var r=e;if(e.parent instanceof p.FunctionParameter&&e.parent.getParent()instanceof p.BodyDeclaration&&(r=e.parent.getParent().getDeclarations()),e.parent instanceof p.FunctionArgument&&e.parent.getParent()instanceof p.Function){var n=e.parent.getParent().getIdentifier();if(n){var i=this.internalFindSymbol(n,[p.ReferenceType.Function]);i&&(r=i.node.getDeclarations())}}if(!r)return null;for(var o=e.getText(),s=this.global.findScope(r.offset,r.length);s;){for(var a=0;a<t.length;a++){var c=t[a],u=s.getSymbol(o,c);if(u)return u}s=s.parent}return null},e.prototype.evaluateReferenceTypes=function(e){if(e instanceof p.Identifier){var t=e.referenceTypes;if(t)return t;if(e.isCustomProperty)return[p.ReferenceType.Variable];var r=p.getParentDeclaration(e);if(r){var n=r.getNonPrefixedPropertyName();if(("animation"===n||"animation-name"===n)&&r.getValue()&&r.getValue().offset===e.offset)return[p.ReferenceType.Keyframe]}}else if(e instanceof p.Variable)return[p.ReferenceType.Variable];return e.findParent(p.NodeType.Selector)?[p.ReferenceType.Rule]:e.findParent(p.NodeType.ExtendsReference)?[p.ReferenceType.Rule]:null},e.prototype.findSymbolFromNode=function(e){if(!e)return null;for(;e.type===p.NodeType.Interpolation;)e=e.getParent();var t=this.evaluateReferenceTypes(e);return t?this.internalFindSymbol(e,t):null},e.prototype.matchesSymbol=function(e,t){if(!e)return!1;for(;e.type===p.NodeType.Interpolation;)e=e.getParent();if(t.name.length!==e.length||t.name!==e.getText())return!1;var r=this.evaluateReferenceTypes(e);return!(!r||-1===r.indexOf(t.type))&&this.internalFindSymbol(e,r)===t},e.prototype.findSymbol=function(e,t,r){for(var n=this.global.findScope(r);n;){var i=n.getSymbol(e,t);if(i)return i;n=n.parent}return null},e}();t.Symbols=a}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/utils/strings",["require","exports"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startsWith=function(e,t){if(e.length<t.length)return!1;for(var r=0;r<t.length;r++)if(e[r]!==t[r])return!1;return!0},t.endsWith=function(e,t){var r=e.length-t.length;return 0<r?e.lastIndexOf(t)===r:0===r&&e===t},t.difference=function(e,t,r){void 0===r&&(r=4);var n=Math.abs(e.length-t.length);if(r<n)return 0;var i,o,s=[],a=[];for(i=0;i<t.length+1;++i)a.push(0);for(i=0;i<e.length+1;++i)s.push(a);for(i=1;i<e.length+1;++i)for(o=1;o<t.length+1;++o)e[i-1]===t[o-1]?s[i][o]=s[i-1][o-1]+1:s[i][o]=Math.max(s[i-1][o],s[i][o-1]);return s[e.length][t.length]-Math.sqrt(n)},t.getLimitedString=function(e,t){return void 0===t&&(t=!0),e?e.length<140?e:e.slice(0,140)+(t?"…":""):""}}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-languageserver-types/main",["require","exports"],e)}(function(e,t){"use strict";var s,r,n,i,o,a,c,u,p,l,f,d,h,g,m,y,v,b,x,C,T,k,S,_;Object.defineProperty(t,"__esModule",{value:!0}),(r=s=t.Position||(t.Position={})).create=function(e,t){return{line:e,character:t}},r.is=function(e){var t=e;return Z.objectLiteral(t)&&Z.number(t.line)&&Z.number(t.character)},(i=n=t.Range||(t.Range={})).create=function(e,t,r,n){if(Z.number(e)&&Z.number(t)&&Z.number(r)&&Z.number(n))return{start:s.create(e,t),end:s.create(r,n)};if(s.is(e)&&s.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+r+", "+n+"]")},i.is=function(e){var t=e;return Z.objectLiteral(t)&&s.is(t.start)&&s.is(t.end)},(a=o=t.Location||(t.Location={})).create=function(e,t){return{uri:e,range:t}},a.is=function(e){var t=e;return Z.defined(t)&&n.is(t.range)&&(Z.string(t.uri)||Z.undefined(t.uri))},(u=c=t.Color||(t.Color={})).create=function(e,t,r,n){return{red:e,green:t,blue:r,alpha:n}},u.is=function(e){var t=e;return Z.number(t.red)&&Z.number(t.green)&&Z.number(t.blue)&&Z.number(t.alpha)},(p=t.ColorInformation||(t.ColorInformation={})).create=function(e,t){return{range:e,color:t}},p.is=function(e){var t=e;return n.is(t.range)&&c.is(t.color)},(l=t.ColorPresentation||(t.ColorPresentation={})).create=function(e,t,r){return{label:e,textEdit:t,additionalTextEdits:r}},l.is=function(e){var t=e;return Z.string(t.label)&&(Z.undefined(t.textEdit)||C.is(t))&&(Z.undefined(t.additionalTextEdits)||Z.typedArray(t.additionalTextEdits,C.is))},(f=t.FoldingRangeKind||(t.FoldingRangeKind={})).Comment="comment",f.Imports="imports",f.Region="region",(d=t.FoldingRange||(t.FoldingRange={})).create=function(e,t,r,n,i){var o={startLine:e,endLine:t};return Z.defined(r)&&(o.startCharacter=r),Z.defined(n)&&(o.endCharacter=n),Z.defined(i)&&(o.kind=i),o},d.is=function(e){var t=e;return Z.number(t.startLine)&&Z.number(t.startLine)&&(Z.undefined(t.startCharacter)||Z.number(t.startCharacter))&&(Z.undefined(t.endCharacter)||Z.number(t.endCharacter))&&(Z.undefined(t.kind)||Z.string(t.kind))},(g=h=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={})).create=function(e,t){return{location:e,message:t}},g.is=function(e){var t=e;return Z.defined(t)&&o.is(t.location)&&Z.string(t.message)},(m=t.DiagnosticSeverity||(t.DiagnosticSeverity={})).Error=1,m.Warning=2,m.Information=3,m.Hint=4,(v=y=t.Diagnostic||(t.Diagnostic={})).create=function(e,t,r,n,i,o){var s={range:e,message:t};return Z.defined(r)&&(s.severity=r),Z.defined(n)&&(s.code=n),Z.defined(i)&&(s.source=i),Z.defined(o)&&(s.relatedInformation=o),s},v.is=function(e){var t=e;return Z.defined(t)&&n.is(t.range)&&Z.string(t.message)&&(Z.number(t.severity)||Z.undefined(t.severity))&&(Z.number(t.code)||Z.string(t.code)||Z.undefined(t.code))&&(Z.string(t.source)||Z.undefined(t.source))&&(Z.undefined(t.relatedInformation)||Z.typedArray(t.relatedInformation,h.is))},(x=b=t.Command||(t.Command={})).create=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={title:e,command:t};return Z.defined(r)&&0<r.length&&(i.arguments=r),i},x.is=function(e){var t=e;return Z.defined(t)&&Z.string(t.title)&&Z.string(t.command)},(T=C=t.TextEdit||(t.TextEdit={})).replace=function(e,t){return{range:e,newText:t}},T.insert=function(e,t){return{range:{start:e,end:e},newText:t}},T.del=function(e){return{range:e,newText:""}},T.is=function(e){var t=e;return Z.objectLiteral(t)&&Z.string(t.newText)&&n.is(t.range)},(S=k=t.TextDocumentEdit||(t.TextDocumentEdit={})).create=function(e,t){return{textDocument:e,edits:t}},S.is=function(e){var t=e;return Z.defined(t)&&E.is(t.textDocument)&&Array.isArray(t.edits)},(_=t.WorkspaceEdit||(t.WorkspaceEdit={})).is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||Z.typedArray(t.documentChanges,k.is))};var P,E,w,N,R,A,D,I,O,F,L,j,M,V,B=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(C.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(C.replace(e,t))},e.prototype.delete=function(e){this.edits.push(C.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),W=function(){function e(r){var n=this;this._textEditChanges=Object.create(null),r&&((this._workspaceEdit=r).documentChanges?r.documentChanges.forEach(function(e){var t=new B(e.edits);n._textEditChanges[e.textDocument.uri]=t}):r.changes&&Object.keys(r.changes).forEach(function(e){var t=new B(r.changes[e]);n._textEditChanges[e]=t}))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(E.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for versioned document changes.");var t=e;if(!(n=this._textEditChanges[t.uri])){var r={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(r),n=new B(i),this._textEditChanges[t.uri]=n}return n}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var n;if(!(n=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,n=new B(i),this._textEditChanges[e]=n}return n},e}();t.WorkspaceChange=W,(P=t.TextDocumentIdentifier||(t.TextDocumentIdentifier={})).create=function(e){return{uri:e}},P.is=function(e){var t=e;return Z.defined(t)&&Z.string(t.uri)},(w=E=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={})).create=function(e,t){return{uri:e,version:t}},w.is=function(e){var t=e;return Z.defined(t)&&Z.string(t.uri)&&Z.number(t.version)},(N=t.TextDocumentItem||(t.TextDocumentItem={})).create=function(e,t,r,n){return{uri:e,languageId:t,version:r,text:n}},N.is=function(e){var t=e;return Z.defined(t)&&Z.string(t.uri)&&Z.string(t.languageId)&&Z.number(t.version)&&Z.string(t.text)},(A=R=t.MarkupKind||(t.MarkupKind={})).PlainText="plaintext",A.Markdown="markdown",(D=R=t.MarkupKind||(t.MarkupKind={})).is=function(e){var t=e;return t===D.PlainText||t===D.Markdown},(I=t.MarkupContent||(t.MarkupContent={})).is=function(e){var t=e;return Z.objectLiteral(e)&&R.is(t.kind)&&Z.string(t.value)},(O=t.CompletionItemKind||(t.CompletionItemKind={})).Text=1,O.Method=2,O.Function=3,O.Constructor=4,O.Field=5,O.Variable=6,O.Class=7,O.Interface=8,O.Module=9,O.Property=10,O.Unit=11,O.Value=12,O.Enum=13,O.Keyword=14,O.Snippet=15,O.Color=16,O.File=17,O.Reference=18,O.Folder=19,O.EnumMember=20,O.Constant=21,O.Struct=22,O.Event=23,O.Operator=24,O.TypeParameter=25,(F=t.InsertTextFormat||(t.InsertTextFormat={})).PlainText=1,F.Snippet=2,(t.CompletionItem||(t.CompletionItem={})).create=function(e){return{label:e}},(t.CompletionList||(t.CompletionList={})).create=function(e,t){return{items:e||[],isIncomplete:!!t}},(j=L=t.MarkedString||(t.MarkedString={})).fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},j.is=function(e){var t=e;return Z.string(t)||Z.objectLiteral(t)&&Z.string(t.language)&&Z.string(t.value)},(t.Hover||(t.Hover={})).is=function(e){var t=e;return Z.objectLiteral(t)&&(I.is(t.contents)||L.is(t.contents)||Z.typedArray(t.contents,L.is))&&(void 0===e.range||n.is(e.range))},(t.ParameterInformation||(t.ParameterInformation={})).create=function(e,t){return t?{label:e,documentation:t}:{label:e}},(t.SignatureInformation||(t.SignatureInformation={})).create=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={label:e};return Z.defined(t)&&(i.documentation=t),Z.defined(r)?i.parameters=r:i.parameters=[],i},(M=t.DocumentHighlightKind||(t.DocumentHighlightKind={})).Text=1,M.Read=2,M.Write=3,(t.DocumentHighlight||(t.DocumentHighlight={})).create=function(e,t){var r={range:e};return Z.number(t)&&(r.kind=t),r},(V=t.SymbolKind||(t.SymbolKind={})).File=1,V.Module=2,V.Namespace=3,V.Package=4,V.Class=5,V.Method=6,V.Property=7,V.Field=8,V.Constructor=9,V.Enum=10,V.Interface=11,V.Function=12,V.Variable=13,V.Constant=14,V.String=15,V.Number=16,V.Boolean=17,V.Array=18,V.Object=19,V.Key=20,V.Null=21,V.EnumMember=22,V.Struct=23,V.Event=24,V.Operator=25,V.TypeParameter=26,(t.SymbolInformation||(t.SymbolInformation={})).create=function(e,t,r,n,i){var o={name:e,kind:t,location:{uri:n,range:r}};return i&&(o.containerName=i),o};var K,q,U,z,H,$,G=function(){};t.DocumentSymbol=G,(K=G=t.DocumentSymbol||(t.DocumentSymbol={})).create=function(e,t,r,n,i,o){var s={name:e,detail:t,kind:r,range:n,selectionRange:i};return void 0!==o&&(s.children=o),s},K.is=function(e){var t=e;return t&&Z.string(t.name)&&Z.string(t.detail)&&Z.number(t.kind)&&n.is(t.range)&&n.is(t.selectionRange)&&(void 0===t.deprecated||Z.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))},t.DocumentSymbol=G,(q=t.CodeActionKind||(t.CodeActionKind={})).QuickFix="quickfix",q.Refactor="refactor",q.RefactorExtract="refactor.extract",q.RefactorInline="refactor.inline",q.RefactorRewrite="refactor.rewrite",q.Source="source",q.SourceOrganizeImports="source.organizeImports",(U=t.CodeActionContext||(t.CodeActionContext={})).create=function(e,t){var r={diagnostics:e};return null!=t&&(r.only=t),r},U.is=function(e){var t=e;return Z.defined(t)&&Z.typedArray(t.diagnostics,y.is)&&(void 0===t.only||Z.typedArray(t.only,Z.string))},(z=t.CodeAction||(t.CodeAction={})).create=function(e,t,r){var n={title:e};return b.is(t)?n.command=t:n.edit=t,void 0!==r&&(n.kind=r),n},z.is=function(e){var t=e;return t&&Z.string(t.title)&&(void 0===t.diagnostics||Z.typedArray(t.diagnostics,y.is))&&(void 0===t.kind||Z.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||b.is(t.command))&&(void 0===t.edit||_.is(t.edit))},(H=t.CodeLens||(t.CodeLens={})).create=function(e,t){var r={range:e};return Z.defined(t)&&(r.data=t),r},H.is=function(e){var t=e;return Z.defined(t)&&n.is(t.range)&&(Z.undefined(t.command)||b.is(t.command))},($=t.FormattingOptions||(t.FormattingOptions={})).create=function(e,t){return{tabSize:e,insertSpaces:t}},$.is=function(e){var t=e;return Z.defined(t)&&Z.number(t.tabSize)&&Z.boolean(t.insertSpaces)};var Q,X,J,Y=function(){};t.DocumentLink=Y,(Q=Y=t.DocumentLink||(t.DocumentLink={})).create=function(e,t,r){return{range:e,target:t,data:r}},Q.is=function(e){var t=e;return Z.defined(t)&&n.is(t.range)&&(Z.undefined(t.target)||Z.string(t.target))},t.DocumentLink=Y,t.EOL=["\n","\r\n","\r"],(X=t.TextDocument||(t.TextDocument={})).create=function(e,t,r,n){return new re(e,t,r,n)},X.is=function(e){var t=e;return!!(Z.defined(t)&&Z.string(t.uri)&&(Z.undefined(t.languageId)||Z.string(t.languageId))&&Z.number(t.lineCount)&&Z.func(t.getText)&&Z.func(t.positionAt)&&Z.func(t.offsetAt))},X.applyEdits=function(e,t){for(var r=e.getText(),n=function e(t,r){if(t.length<=1)return t;var n=t.length/2|0,i=t.slice(0,n),o=t.slice(n);e(i,r),e(o,r);for(var s=0,a=0,c=0;s<i.length&&a<o.length;){var u=r(i[s],o[a]);t[c++]=u<=0?i[s++]:o[a++]}for(;s<i.length;)t[c++]=i[s++];for(;a<o.length;)t[c++]=o[a++];return t}(t,function(e,t){var r=e.range.start.line-t.range.start.line;return 0===r?e.range.start.character-t.range.start.character:r}),i=r.length,o=n.length-1;0<=o;o--){var s=n[o],a=e.offsetAt(s.range.start),c=e.offsetAt(s.range.end);if(!(c<=i))throw new Error("Ovelapping edit");r=r.substring(0,a)+s.newText+r.substring(c,r.length),i=a}return r},(J=t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})).Manual=1,J.AfterDelay=2,J.FocusOut=3;var Z,ee,te,re=function(){function e(e,t,r,n){this._uri=e,this._languageId=t,this._version=r,this._content=n,this._lineOffsets=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=null},e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var e=[],t=this._content,r=!0,n=0;n<t.length;n++){r&&(e.push(n),r=!1);var i=t.charAt(n);r="\r"===i||"\n"===i,"\r"===i&&n+1<t.length&&"\n"===t.charAt(n+1)&&n++}r&&0<t.length&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),r=0,n=t.length;if(0===n)return s.create(0,e);for(;r<n;){var i=Math.floor((r+n)/2);t[i]>e?n=i:r=i+1}var o=r-1;return s.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var r=t[e.line],n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,n),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();ee=Z||(Z={}),te=Object.prototype.toString,ee.defined=function(e){return void 0!==e},ee.undefined=function(e){return void 0===e},ee.boolean=function(e){return!0===e||!1===e},ee.string=function(e){return"[object String]"===te.call(e)},ee.number=function(e){return"[object Number]"===te.call(e)},ee.func=function(e){return"[object Function]"===te.call(e)},ee.objectLiteral=function(e){return null!==e&&"object"==typeof e},ee.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}),define("vscode-languageserver-types",["vscode-languageserver-types/main"],function(e){return e}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/services/cssCompletion",["require","exports","../parser/cssNodes","../parser/cssSymbolScope","./languageFacts","../utils/strings","vscode-languageserver-types","vscode-nls"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=e("../parser/cssNodes"),r=e("../parser/cssSymbolScope"),d=e("./languageFacts"),c=e("../utils/strings"),h=e("vscode-languageserver-types"),u=e("vscode-nls").loadMessageBundle(),l=h.InsertTextFormat.Snippet,n=function(){function e(e){void 0===e&&(e=null),this.completionParticipants=[],this.valueTypes=[f.NodeType.Identifier,f.NodeType.Value,f.NodeType.StringLiteral,f.NodeType.URILiteral,f.NodeType.NumericValue,f.NodeType.HexColorValue,f.NodeType.VariableName,f.NodeType.Prio],this.variablePrefix=e}return e.prototype.getSymbolContext=function(){return this.symbolContext||(this.symbolContext=new r.Symbols(this.styleSheet)),this.symbolContext},e.prototype.setCompletionParticipants=function(e){this.completionParticipants=e||[]},e.prototype.doComplete=function(e,t,r){this.offset=e.offsetAt(t),this.position=t,this.currentWord=function(e,t){var r=t-1,n=e.getText();for(;0<=r&&-1===' \t\n\r":{[()]},*>+'.indexOf(n.charAt(r));)r--;return n.substring(r+1,t)}(e,this.offset),this.defaultReplaceRange=h.Range.create(h.Position.create(this.position.line,this.position.character-this.currentWord.length),this.position),this.textDocument=e,this.styleSheet=r;try{var n={isIncomplete:!1,items:[]};this.nodePath=f.getNodePath(this.styleSheet,this.offset);for(var i=this.nodePath.length-1;0<=i;i--){var o=this.nodePath[i];if(o.type===f.NodeType.Builtin&&this.getCompletionsForBuiltin(n),0<n.items.length||this.offset>o.offset)return this.finalize(n)}return 0===n.items.length&&this.variablePrefix&&0===this.currentWord.indexOf(this.variablePrefix)&&this.getVariableProposals(null,n),this.finalize(n)}finally{this.position=null,this.currentWord=null,this.textDocument=null,this.styleSheet=null,this.symbolContext=null,this.defaultReplaceRange=null,this.nodePath=null}},e.prototype.finalize=function(e){if(e.items.some(function(e){return!!e.sortText}))for(var t=0,r=e.items;t<r.length;t++){var n=r[t];n.sortText||(n.sortText="d")}return e},e.prototype.findInNodePath=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=this.nodePath.length-1;0<=r;r--){var n=this.nodePath[r];if(-1!==e.indexOf(n.type))return n}return null},e.prototype.getCompletionsForBuiltin=function(e){for(var t=0,r=d.getBuiltins();t<r.length;t++)e.items.push({label:r[t].name,detail:"(command) builtin",documentation:"*choice\n\nDisplays a choice of options to the player.",textEdit:h.TextEdit.replace(this.getCompletionRange(null),r[t].name),kind:h.CompletionItemKind.Keyword});return e},e.prototype.getCSSWideKeywordProposals=function(e,t,r){for(var n in d.cssWideKeywords)r.items.push({label:n,documentation:d.cssWideKeywords[n],textEdit:h.TextEdit.replace(this.getCompletionRange(t),n),kind:h.CompletionItemKind.Value});return r},e.prototype.getCompletionsForInterpolation=function(e,t){return this.offset>=e.offset+2&&this.getVariableProposals(null,t),t},e.prototype.getVariableProposals=function(e,t){for(var r=0,n=this.getSymbolContext().findSymbolsAtOffset(this.offset,f.ReferenceType.Variable);r<n.length;r++){var i=n[r],o=c.startsWith(i.name,"--")?"var("+i.name+")":i.name,s={label:i.name,documentation:i.value?c.getLimitedString(i.value):i.value,textEdit:h.TextEdit.replace(this.getCompletionRange(e),o),kind:h.CompletionItemKind.Variable,sortText:"z"};if(i.node.type===f.NodeType.FunctionParameter){var a=i.node.getParent();a.type===f.NodeType.MixinDeclaration&&(s.detail=u("completion.argument","argument from '{0}'",a.getName()))}t.items.push(s)}return t},e.prototype.getVariableProposalsForCSSVarFunction=function(e){for(var t=this.getSymbolContext().findSymbolsAtOffset(this.offset,f.ReferenceType.Variable),r=0,n=t=t.filter(function(e){return c.startsWith(e.name,"--")});r<n.length;r++){var i=n[r];e.items.push({label:i.name,documentation:i.value?c.getLimitedString(i.value):i.value,textEdit:h.TextEdit.replace(this.getCompletionRange(null),i.name),kind:h.CompletionItemKind.Variable})}return e},e.prototype.getUnitProposals=function(e,t,r){var n="0";if(0<this.currentWord.length){var i=this.currentWord.match(/^-?\d[\.\d+]*/);i&&(n=i[0],r.isIncomplete=n.length===this.currentWord.length)}else 0===this.currentWord.length&&(r.isIncomplete=!0);t&&t.parent&&t.parent.type===f.NodeType.Term&&(t=t.getParent());for(var o=0,s=e.restrictions;o<s.length;o++){var a=s[o],c=d.units[a];if(c)for(var u=0,p=c;u<p.length;u++){var l=n+p[u];r.items.push({label:l,textEdit:h.TextEdit.replace(this.getCompletionRange(t),l),kind:h.CompletionItemKind.Unit})}}return r},e.prototype.getCompletionRange=function(e){if(e&&e.offset<=this.offset){var t=-1!==e.end?this.textDocument.positionAt(e.end):this.position;return h.Range.create(this.textDocument.positionAt(e.offset),t)}return this.defaultReplaceRange},e.prototype.getColorProposals=function(e,n,i){for(var t in d.colors)i.items.push({label:t,documentation:d.colors[t],textEdit:h.TextEdit.replace(this.getCompletionRange(n),t),kind:h.CompletionItemKind.Color});for(var t in d.colorKeywords)i.items.push({label:t,documentation:d.colorKeywords[t],textEdit:h.TextEdit.replace(this.getCompletionRange(n),t),kind:h.CompletionItemKind.Value});var r=new g;this.styleSheet.acceptVisitor(new m(r,this.offset));for(var o=0,s=r.getEntries();o<s.length;o++){t=s[o];i.items.push({label:t,textEdit:h.TextEdit.replace(this.getCompletionRange(n),t),kind:h.CompletionItemKind.Color})}for(var a=function(e){var r=1,t=e.func.replace(/\[?\$(\w+)\]?/g,function(e,t){return"${"+r+++":"+t+"}"});i.items.push({label:e.func.substr(0,e.func.indexOf("(")),detail:e.func,documentation:e.desc,textEdit:h.TextEdit.replace(c.getCompletionRange(n),t),insertTextFormat:l,kind:h.CompletionItemKind.Function})},c=this,u=0,p=d.colorFunctions;u<p.length;u++){a(p[u])}return i},e.prototype.getPositionProposals=function(e,t,r){for(var n in d.positionKeywords)r.items.push({label:n,documentation:d.positionKeywords[n],textEdit:h.TextEdit.replace(this.getCompletionRange(t),n),kind:h.CompletionItemKind.Value});return r},e.prototype.getRepeatStyleProposals=function(e,t,r){for(var n in d.repeatStyleKeywords)r.items.push({label:n,documentation:d.repeatStyleKeywords[n],textEdit:h.TextEdit.replace(this.getCompletionRange(t),n),kind:h.CompletionItemKind.Value});return r},e.prototype.getLineStyleProposals=function(e,t,r){for(var n in d.lineStyleKeywords)r.items.push({label:n,documentation:d.lineStyleKeywords[n],textEdit:h.TextEdit.replace(this.getCompletionRange(t),n),kind:h.CompletionItemKind.Value});return r},e.prototype.getLineWidthProposals=function(e,t,r){for(var n=0,i=d.lineWidthKeywords;n<i.length;n++){var o=i[n];r.items.push({label:o,textEdit:h.TextEdit.replace(this.getCompletionRange(t),o),kind:h.CompletionItemKind.Value})}return r},e.prototype.getGeometryBoxProposals=function(e,t,r){for(var n in d.geometryBoxKeywords)r.items.push({label:n,documentation:d.geometryBoxKeywords[n],textEdit:h.TextEdit.replace(this.getCompletionRange(t),n),kind:h.CompletionItemKind.Value});return r},e.prototype.getBoxProposals=function(e,t,r){for(var n in d.boxKeywords)r.items.push({label:n,documentation:d.boxKeywords[n],textEdit:h.TextEdit.replace(this.getCompletionRange(t),n),kind:h.CompletionItemKind.Value});return r},e.prototype.getImageProposals=function(e,t,r){for(var n in d.imageFunctions){var i=o(n);r.items.push({label:n,documentation:d.imageFunctions[n],textEdit:h.TextEdit.replace(this.getCompletionRange(t),i),kind:h.CompletionItemKind.Function,insertTextFormat:n!==i?l:void 0})}return r},e.prototype.getTimingFunctionProposals=function(e,t,r){for(var n in d.transitionTimingFunctions){var i=o(n);r.items.push({label:n,documentation:d.transitionTimingFunctions[n],textEdit:h.TextEdit.replace(this.getCompletionRange(t),i),kind:h.CompletionItemKind.Function,insertTextFormat:n!==i?l:void 0})}return r},e.prototype.getBasicShapeProposals=function(e,t,r){for(var n in d.basicShapeFunctions){var i=o(n);r.items.push({label:n,documentation:d.basicShapeFunctions[n],textEdit:h.TextEdit.replace(this.getCompletionRange(t),i),kind:h.CompletionItemKind.Function,insertTextFormat:n!==i?l:void 0})}return r},e.prototype.getCompletionsForVariableDeclaration=function(e,t){return this.offset>e.colonPosition&&this.getVariableProposals(e.getValue(),t),t},e.prototype.getCompletionsForFunctionArgument=function(e,t,r){return"var"===t.getIdentifier().getText()&&(t.getArguments().hasChildren()&&t.getArguments().getChild(0)!==e||this.getVariableProposalsForCSSVarFunction(r)),r},e.prototype.getCompletionsForFunctionDeclaration=function(e,t){var r=e.getDeclarations();return r&&this.offset>r.offset&&this.offset<r.end&&this.getTermProposals(null,null,t),t},e.prototype.getCompletionsForMixinReference=function(e,t){for(var r=0,n=this.getSymbolContext().findSymbolsAtOffset(this.offset,f.ReferenceType.Mixin);r<n.length;r++){var i=n[r];i.node instanceof f.MixinDeclaration&&t.items.push(this.makeTermProposal(i,i.node.getParameters(),null))}return t},e.prototype.getTermProposals=function(e,t,r){for(var n=0,i=this.getSymbolContext().findSymbolsAtOffset(this.offset,f.ReferenceType.Function);n<i.length;n++){var o=i[n];o.node instanceof f.FunctionDeclaration&&r.items.push(this.makeTermProposal(o,o.node.getParameters(),t))}return r},e.prototype.makeTermProposal=function(e,t,r){e.node;var n=t.getChildren().map(function(e){return e instanceof f.FunctionParameter?e.getName():e.getText()}),i=e.name+"("+n.map(function(e,t){return"${"+(t+1)+":"+e+"}"}).join(", ")+")";return{label:e.name,detail:e.name+"("+n.join(", ")+")",textEdit:h.TextEdit.replace(this.getCompletionRange(r),i),insertTextFormat:l,kind:h.CompletionItemKind.Function,sortText:"z"}},e.prototype.getCompletionsForExtendsReference=function(e,t,r){return r},e.prototype.getCompletionForUriLiteralValue=function(e,t){var r,n,i;if(0===e.getChildren().length){r="",n=this.position;var o=this.textDocument.positionAt(e.offset+"url(".length);i=h.Range.create(o,o)}else{var s=e.getChild(0);r=s.getText(),n=this.position,i=this.getCompletionRange(s)}return this.completionParticipants.forEach(function(e){e.onCssURILiteralValue&&e.onCssURILiteralValue({uriValue:r,position:n,range:i})}),t},e.prototype.getCompletionForImportPath=function(t,e){var r=this;return this.completionParticipants.forEach(function(e){e.onCssImportPath&&e.onCssImportPath({pathValue:t.getText(),position:r.position,range:r.getCompletionRange(t)})}),e},e}();t.CSSCompletion=n;var g=function(){function e(){this.entries={}}return e.prototype.add=function(e){this.entries[e]=!0},e.prototype.getEntries=function(){return Object.keys(this.entries)},e}();function o(e){return e.replace(/\(\)$/,"($1)")}var m=function(){function e(e,t){this.entries=e,this.currentOffset=t}return e.prototype.visitNode=function(e){return(e instanceof f.HexColorValue||e instanceof f.Function&&d.isColorConstructor(e))&&(this.currentOffset<e.offset||e.end<this.currentOffset)&&this.entries.add(e.getText()),!0},e}()});__extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/services/selectorPrinting",["require","exports","../parser/cssNodes","../parser/cssScanner"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=e("../parser/cssNodes"),n=e("../parser/cssScanner"),m=function(){function s(){}return s.prototype.findAttribute=function(e){if(this.attributes)for(var t=0,r=this.attributes;t<r.length;t++){var n=r[t];if(n.name===e)return n.value}return null},s.prototype.addChild=function(e){e instanceof s&&(e.parent=this),this.children||(this.children=[]),this.children.push(e)},s.prototype.append=function(e){if(this.attributes){var t=this.attributes[this.attributes.length-1];t.value=t.value+e}},s.prototype.prepend=function(e){if(this.attributes){var t=this.attributes[0];t.value=e+t.value}},s.prototype.findRoot=function(){for(var e=this;e.parent&&!(e.parent instanceof u);)e=e.parent;return e},s.prototype.removeChild=function(e){if(this.children){var t=this.children.indexOf(e);if(-1!==t)return this.children.splice(t,1),!0}return!1},s.prototype.addAttr=function(e,t){this.attributes||(this.attributes=[]);for(var r=0,n=this.attributes;r<n.length;r++){var i=n[r];if(i.name===e)return void(i.value+=" "+t)}this.attributes.push({name:e,value:t})},s.prototype.clone=function(e){void 0===e&&(e=!0);var t=new s;if(this.attributes){t.attributes=[];for(var r=0,n=this.attributes;r<n.length;r++){var i=n[r];t.addAttr(i.name,i.value)}}if(e&&this.children){t.children=[];for(var o=0;o<this.children.length;o++)t.addChild(this.children[o].clone())}return t},s.prototype.cloneWithParent=function(){var e=this.clone(!1);!this.parent||this.parent instanceof u||this.parent.cloneWithParent().addChild(e);return e},s}(),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(t.Element=m);t.RootElement=u;var p=function(r){function e(e){var t=r.call(this)||this;return t.addAttr("name",e),t}return __extends(e,r),e}(m);t.LabelElement=p;var y,r=function(){function e(e){this.quote=e}return e.prototype.print=function(e){return this.result=[],e instanceof u?this.doPrint(e.children,0):this.doPrint([e],0),[{language:"html",value:this.result.join("\n")}]},e.prototype.doPrint=function(e,t){for(var r=0,n=e;r<n.length;r++){var i=n[r];this.doPrintElement(i,t),i.children&&this.doPrint(i.children,t+1)}},e.prototype.writeLine=function(e,t){var r=new Array(e+1).join("  ");this.result.push(r+t)},e.prototype.doPrintElement=function(e,t){var r=e.findAttribute("name");if(e instanceof p||"…"===r)this.writeLine(t,r);else{var n=["<"];if(r?n.push(r):n.push("element"),e.attributes)for(var i=0,o=e.attributes;i<o.length;i++){var s=o[i];if("name"!==s.name){n.push(" "),n.push(s.name);var a=s.value;a&&(n.push("="),n.push(y.ensure(a,this.quote)))}}n.push(">"),this.writeLine(t,n.join(""))}},e}();function l(e,t){for(var r=new m,n=0,i=e.getChildren();n<i.length;n++){var o=i[n];switch(o.type){case g.NodeType.SelectorCombinator:if(t){var s=o.getText().split("&");if(1===s.length){r.addAttr("name",s[0]);break}if(r=t.cloneWithParent(),s[0])r.findRoot().prepend(s[0]);for(var a=1;a<s.length;a++){if(1<a){var c=t.cloneWithParent();r.addChild(c.findRoot()),r=c}r.append(s[a])}}break;case g.NodeType.SelectorPlaceholder:if("@at-root"===o.getText())return r;case g.NodeType.ElementNameSelector:var u=o.getText();r.addAttr("name","*"===u?"element":v(u));break;case g.NodeType.ClassSelector:r.addAttr("class",v(o.getText().substring(1)));break;case g.NodeType.IdentifierSelector:r.addAttr("id",v(o.getText().substring(1)));break;case g.NodeType.MixinDeclaration:r.addAttr("class",o.getName());break;case g.NodeType.PseudoSelector:r.addAttr(v(o.getText()),"");break;case g.NodeType.AttributeSelector:var p=o,l=p.getIdentifier();if(l){var f=p.getValue(),d=p.getOperator(),h=void 0;if(f)switch(v(d.getText())){case"|=":h=y.remove(v(f.getText()))+"-…";break;case"^=":h=y.remove(v(f.getText()))+"…";break;case"$=":h="…"+y.remove(v(f.getText()));break;case"~=":h=" … "+y.remove(v(f.getText()))+" … ";break;case"*=":h="…"+y.remove(v(f.getText()))+"…";break;default:h=y.remove(v(f.getText()))}r.addAttr(v(l.getText()),h)}}}return r}function v(e){var t=new n.Scanner;t.setSource(e);var r=t.scanUnquotedString();return r?r.text:e}!function(e){function r(e){var t=e.match(/^['"](.*)["']$/);return t?t[1]:e}e.ensure=function(e,t){return t+r(e)+t},e.remove=r}(y||(y={})),t.toElement=l,t.selectorToMarkedString=function(e){var t=i(e);return new r('"').print(t)},t.simpleSelectorToMarkedString=function(e){var t=l(e);return new r('"').print(t)};var a=function(){function e(e){this.prev=null,this.element=e}return e.prototype.processSelector=function(e){var t=null;if(!(this.element instanceof u)&&e.getChildren().some(function(e){return e.hasChildren()&&e.getChild(0).type===g.NodeType.SelectorCombinator})){var r=this.element.findRoot();r.parent instanceof u&&(t=this.element,this.element=r.parent,this.element.removeChild(r),this.prev=null)}for(var n=0,i=e.getChildren();n<i.length;n++){var o=i[n];if(o instanceof g.SimpleSelector){if(this.prev instanceof g.SimpleSelector){var s=new p("…");this.element.addChild(s),this.element=s}else this.prev&&(this.prev.matches("+")||this.prev.matches("~"))&&this.element.parent&&(this.element=this.element.parent);this.prev&&this.prev.matches("~")&&(this.element.addChild(l(o)),this.element.addChild(new p("⋮")));var a=l(o,t),c=a.findRoot();this.element.addChild(c),this.element=a}(o instanceof g.SimpleSelector||o.type===g.NodeType.SelectorCombinatorParent||o.type===g.NodeType.SelectorCombinatorShadowPiercingDescendant||o.type===g.NodeType.SelectorCombinatorSibling||o.type===g.NodeType.SelectorCombinatorAllSiblings)&&(this.prev=o)}},e}();function c(e){switch(e.type){case g.NodeType.MixinDeclaration:case g.NodeType.Stylesheet:return!0}return!1}function i(e){if(e.matches("@at-root"))return null;var t=new u,r=[];if(e.getParent()instanceof g.RuleSet)for(var n=e.getParent().getParent();n&&!c(n);){if(n instanceof g.RuleSet){if(n.getSelectors().matches("@at-root"))break;r.push(n)}n=n.getParent()}for(var i=new a(t),o=r.length-1;0<=o;o--){var s=r[o].getSelectors().getChild(0);s&&i.processSelector(s)}return i.processSelector(e),t}t.selectorToElement=i}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/services/cssHover",["require","exports","../parser/cssNodes","./languageFacts","vscode-languageserver-types","./selectorPrinting"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=e("../parser/cssNodes"),f=e("./languageFacts"),d=e("vscode-languageserver-types"),h=e("./selectorPrinting"),r=function(){function e(){}return e.prototype.doHover=function(t,e,r){function n(e){return d.Range.create(t.positionAt(e.offset),t.positionAt(e.end))}for(var i=t.offsetAt(e),o=l.getNodePath(r,i),s=0;s<o.length;s++){var a=o[s];if(a.type===l.NodeType.Builtin){var c=a.getText().slice(1,a.getText().length),u=f.getBuiltins(),p=u.map(function(e){return e.name}).indexOf(c);if(-1!==p)return{contents:u[p].description,range:n(a)}}if(a instanceof l.Selector)return{contents:h.selectorToMarkedString(a),range:n(a)};if(a instanceof l.SimpleSelector)return{contents:h.simpleSelectorToMarkedString(a),range:n(a)}}return null},e}();t.CSSHover=r}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/services/cssNavigation",["require","exports","vscode-languageserver-types","vscode-nls","../parser/cssNodes","../parser/cssSymbolScope","../services/languageFacts","../utils/strings"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=e("vscode-languageserver-types"),r=e("vscode-nls"),u=e("../parser/cssNodes"),l=e("../parser/cssSymbolScope"),f=e("../services/languageFacts"),s=e("../utils/strings"),o=r.loadMessageBundle(),n=function(){function e(){}return e.prototype.findDefinition=function(e,t,r){var n=new l.Symbols(r),i=e.offsetAt(t),o=u.getNodeAtOffset(r,i);if(!o)return null;var s=n.findSymbolFromNode(o);return s?{uri:e.uri,range:d(s.node,e)}:null},e.prototype.findReferences=function(t,e,r){return this.findDocumentHighlights(t,e,r).map(function(e){return{uri:t.uri,range:e.range}})},e.prototype.findDocumentHighlights=function(t,e,r){var n=[],i=t.offsetAt(e),o=u.getNodeAtOffset(r,i);if(!o||o.type===u.NodeType.Stylesheet||o.type===u.NodeType.Declarations)return n;o.type===u.NodeType.Identifier&&o.parent&&o.parent.type===u.NodeType.ClassSelector&&(o=o.parent);var s=new l.Symbols(r),a=s.findSymbolFromNode(o),c=o.getText();return r.accept(function(e){if(a){if(s.matchesSymbol(e,a))return n.push({kind:h(e),range:d(e,t)}),!1}else o.type===e.type&&o.length===e.length&&c===e.getText()&&n.push({kind:h(e),range:d(e,t)});return!0}),n},e.prototype.findDocumentLinks=function(n,e,i){var o=[];return e.accept(function(e){if(e.type===u.NodeType.URILiteral){var t=function(e,t,r){if(0===t.getChildren().length)return null;var n=t.getChild(0);return a(e,n,r)}(n,e,i);return t&&o.push(t),!1}if(e.parent&&e.parent.type===u.NodeType.Import){var r=e.getText();return(s.startsWith(r,"'")||s.startsWith(r,'"'))&&o.push(a(n,e,i)),!1}return!0}),o},e.prototype.findDocumentSymbols=function(n,e){var i=[];return e.accept(function(e){var t={name:null,kind:p.SymbolKind.Class,location:null},r=e;return e instanceof u.Selector?(t.name=e.getText(),r=e.findParent(u.NodeType.Ruleset),t.location=p.Location.create(n.uri,d(r,n)),i.push(t),!1):(e instanceof u.VariableDeclaration?(t.name=e.getName(),t.kind=p.SymbolKind.Variable):e instanceof u.MixinDeclaration?(t.name=e.getName(),t.kind=p.SymbolKind.Method):e instanceof u.FunctionDeclaration?(t.name=e.getName(),t.kind=p.SymbolKind.Function):e instanceof u.Keyframe?t.name=o("literal.keyframes","@keyframes {0}",e.getName()):e instanceof u.FontFace&&(t.name=o("literal.fontface","@font-face")),t.name&&(t.location=p.Location.create(n.uri,d(r,n)),i.push(t)),!0)}),i},e.prototype.findDocumentColors=function(r,e){var n=[];return e.accept(function(e){var t=function(e,t){var r=f.getColorValue(e);if(r){var n=d(e,t);return{color:r,range:n}}return null}(e,r);return t&&n.push(t),!0}),n},e.prototype.getColorPresentations=function(e,t,r,n){var i,o=[],s=Math.round(255*r.red),a=Math.round(255*r.green),c=Math.round(255*r.blue);i=1===r.alpha?"rgb("+s+", "+a+", "+c+")":"rgba("+s+", "+a+", "+c+", "+r.alpha+")",o.push({label:i,textEdit:p.TextEdit.replace(n,i)}),i=1===r.alpha?"#"+g(s)+g(a)+g(c):"#"+g(s)+g(a)+g(c)+g(Math.round(255*r.alpha)),o.push({label:i,textEdit:p.TextEdit.replace(n,i)});var u=f.hslFromColor(r);return i=1===u.a?"hsl("+u.h+", "+Math.round(100*u.s)+"%, "+Math.round(100*u.l)+"%)":"hsla("+u.h+", "+Math.round(100*u.s)+"%, "+Math.round(100*u.l)+"%, "+u.a+")",o.push({label:i,textEdit:p.TextEdit.replace(n,i)}),o},e.prototype.doRename=function(e,t,r,n){var i,o=this.findDocumentHighlights(e,t,n).map(function(e){return p.TextEdit.replace(e.range,r)});return{changes:(i={},i[e.uri]=o,i)}},e}();function a(e,t,r){var n=t.getText(),i=d(t,e);return i.start.line===i.end.line&&i.start.character===i.end.character?null:((s.startsWith(n,"'")||s.startsWith(n,'"'))&&(n=n.slice(1,-1)),{range:i,target:s.startsWith(n,"http://")||s.startsWith(n,"https://")?n:/^\w+:\/\//g.test(n)?n:"scss"===e.languageId?s.endsWith(n,".css")||s.startsWith(n,"http://")||s.startsWith(n,"https://")||t.parent&&t.parent.type===u.NodeType.URILiteral||1!==t.parent.getChildren().length?r.resolveReference(n,e.uri):r.resolveReference(n,e.uri).replace(/\/(\w+)(.scss)?$/gm,function(e,t){return"/_"+t+".scss"}):r.resolveReference(n,e.uri)})}function d(e,t){return p.Range.create(t.positionAt(e.offset),t.positionAt(e.end))}function h(e){if(e.type===u.NodeType.Selector)return p.DocumentHighlightKind.Write;if(e instanceof u.Identifier&&e.parent&&e.parent instanceof u.Property&&e.isCustomProperty)return p.DocumentHighlightKind.Write;if(e.parent)switch(e.parent.type){case u.NodeType.FunctionDeclaration:case u.NodeType.MixinDeclaration:case u.NodeType.Keyframe:case u.NodeType.VariableDeclaration:case u.NodeType.FunctionParameter:return p.DocumentHighlightKind.Write}return p.DocumentHighlightKind.Read}function g(e){var t=e.toString(16);return 2!==t.length?"0"+t:t}t.CSSNavigation=n}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/services/textRules",["require","exports","../parser/cssNodes","vscode-nls"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("../parser/cssNodes"),n=e("vscode-nls").loadMessageBundle(),i=r.Level.Warning,o=(r.Level.Error,r.Level.Ignore,function(e,t,r){this.id=e,this.message=t,this.defaultValue=r});t.Rule=o,t.Rules={BadSpelling:new o("badSpelling",n("rule.badSpelling","Bad spelling."),i)};var s=function(){function e(e){void 0===e&&(e={}),this.conf=e}return e.prototype.get=function(e){if(this.conf.hasOwnProperty(e.id)){var t=function(e){switch(e){case"ignore":return r.Level.Ignore;case"warning":return r.Level.Warning;case"error":return r.Level.Error}return null}(this.conf[e.id]);if(t)return t}return e.defaultValue},e}();t.LintConfigurationSettings=s}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/services/spellcheck",["require","exports","./textRules","../parser/cssNodes","vscode-nls"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./textRules"),i=e("../parser/cssNodes"),a=e("vscode-nls").loadMessageBundle(),o=function(){function e(){this.data={}}return e.prototype.add=function(e,t,r){var n=this.data[e];n||(n={nodes:[],names:[]},this.data[e]=n),n.names.push(t),r&&n.nodes.push(r)},e}(),r=function(){function s(e,t,r){this.warnings=[],this.visitStylesheet=function(e){return!0},this.visitWord=function(e){return this.typo.check(e.getText())||this.addEntry(e,n.Rules.BadSpelling,"Bad spelling: "+e.getText()),!0},this.settings=t,this.documentText=e.getText(),this.keyframes=new o,this.typo=r}return s.entries=function(e,t,r,n,i){var o=new s(t,r,i);return e.acceptVisitor(o),o.getEntries(n)},s.prototype.fetch=function(e,t){for(var r=[],n=0,i=e;n<i.length;n++){var o=i[n];o.name===t&&r.push(o)}return r},s.prototype.fetchWithValue=function(e,t,r){for(var n=[],i=0,o=e;i<o.length;i++){var s=o[i];if(s.name===t){var a=s.node.getValue();a&&this.findValueInExpression(a,r)&&n.push(s)}}return n},s.prototype.findValueInExpression=function(e,t){var r=!1;return e.accept(function(e){return e.type===i.NodeType.Identifier&&e.getText()===t&&(r=!0),!r}),r},s.prototype.getEntries=function(t){return void 0===t&&(t=i.Level.Warning|i.Level.Error),this.warnings.filter(function(e){return 0!=(e.getLevel()&t)})},s.prototype.addEntry=function(e,t,r){var n=new i.Marker(e,t,i.Level.Warning,r,e.offset,e.length);this.warnings.push(n)},s.prototype.getMissingNames=function(e,t){e=e.slice(0);for(var r=0;r<t.length;r++){var n=e.indexOf(t[r]);-1!==n&&(e[n]=null)}var i=null;for(r=0;r<e.length;r++){var o=e[r];o&&(i=null===i?a("namelist.single","'{0}'",o):a("namelist.concatenated","{0}, '{1}'",i,o))}return i},s.prototype.visitNode=function(e){switch(e.type){case i.NodeType.Stylesheet:return this.visitStylesheet(e);case i.NodeType.TextLine:return!0;case i.NodeType.RealWord:return this.visitWord(e);default:return!0}},s.prototype.visitKeyframe=function(e){var t=e.getKeyword(),r=t.getText();return this.keyframes.add(e.getName(),r,"@keyframes"!==r?t:null),!0},s.prototype.isCSSDeclaration=function(e){if(e instanceof i.Declaration){if(!e.getValue())return!1;var t=e.getProperty();return!(!t||t.getIdentifier().containsInterpolation())}return!1},s.prefixes=["-ms-","-moz-","-o-","-webkit-"],s}();t.SpellCheckVisitor=r}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/services/typo/typo",["require","exports"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,r,n){if(n=n||{},this.platform=n.platform||"chrome",this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=n.flags||{},e){if(this.dictionary=e,"chrome"==this.platform)t||(t=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+e+"/"+e+".aff"))),r||(r=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+e+"/"+e+".dic")));else{var i=n.dictionaryPath||"";t||(t=this._readFile(i+"/"+e+"/"+e+".aff")),r||(r=this._readFile(i+"/"+e+"/"+e+".dic"))}this.rules=this._parseAFF(t),this.compoundRuleCodes={};for(var o=0,s=this.compoundRules.length;o<s;o++)for(var a=this.compoundRules[o],c=0,u=a.length;c<u;c++)this.compoundRuleCodes[a[c]]=[];for(var o in"ONLYINCOMPOUND"in this.flags&&(this.compoundRuleCodes[this.flags.ONLYINCOMPOUND]=[]),this.dictionaryTable=this._parseDIC(r),this.compoundRuleCodes)0==this.compoundRuleCodes[o].length&&delete this.compoundRuleCodes[o];for(o=0,s=this.compoundRules.length;o<s;o++){var p=this.compoundRules[o],l="";for(c=0,u=p.length;c<u;c++){var f=p[c];f in this.compoundRuleCodes?l+="("+this.compoundRuleCodes[f].join("|")+")":l+=f}this.compoundRules[o]=new RegExp(l,"i")}}return this};r.prototype={load:function(e){for(var t in e)this[t]=e[t];return this},_readFile:function(e,t){t||(t="ISO8859-1");var r=new XMLHttpRequest;return r.open("GET",e,!1),r.overrideMimeType&&r.overrideMimeType("text/plain; charset="+t),r.send(null),r.responseText},_parseAFF:function(e){for(var t={},r=(e=this._removeAffixComments(e)).split("\n"),n=0,i=r.length;n<i;n++){var o=(b=r[n]).split(/\s+/),s=o[0];if("PFX"==s||"SFX"==s){for(var a=o[1],c=o[2],u=[],p=n+1,l=n+1+(v=parseInt(o[3],10));p<l;p++){var f=(x=(b=r[p]).split(/\s+/))[2],d=x[3].split("/"),h=d[0];"0"===h&&(h="");var g=this.parseRuleCodes(d[1]),m=x[4],y={};y.add=h,0<g.length&&(y.continuationClasses=g),"."!==m&&(y.match="SFX"===s?new RegExp(m+"$"):new RegExp("^"+m)),"0"!=f&&(y.remove="SFX"===s?new RegExp(f+"$"):f),u.push(y)}t[a]={type:s,combineable:"Y"==c,entries:u},n+=v}else if("COMPOUNDRULE"===s){var v;for(p=n+1,l=n+1+(v=parseInt(o[1],10));p<l;p++){var b,x=(b=r[p]).split(/\s+/);this.compoundRules.push(x[1])}n+=v}else if("REP"===s){3===(x=b.split(/\s+/)).length&&this.replacementTable.push([x[1],x[2]])}else this.flags[s]=o[1]}return t},_removeAffixComments:function(e){return e=(e=(e=(e=e.replace(/#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(e){var t=(e=this._removeDicComments(e)).split("\n"),r={};function n(e,t){e in r&&"object"==typeof r[e]||(r[e]=[]),r[e].push(t)}for(var i=1,o=t.length;i<o;i++){var s=t[i].split("/",2),a=s[0];if(1<s.length){var c=this.parseRuleCodes(s[1]);"NEEDAFFIX"in this.flags&&-1!=c.indexOf(this.flags.NEEDAFFIX)||n(a,c);for(var u=0,p=c.length;u<p;u++){var l=c[u],f=this.rules[l];if(f)for(var d=this._applyRule(a,f),h=0,g=d.length;h<g;h++){var m=d[h];if(n(m,[]),f.combineable)for(var y=u+1;y<p;y++){var v=c[y],b=this.rules[v];if(b&&b.combineable&&f.type!=b.type)for(var x=this._applyRule(m,b),C=0,T=x.length;C<T;C++){n(x[C],[])}}}l in this.compoundRuleCodes&&this.compoundRuleCodes[l].push(a)}}else n(a,[])}return r},_removeDicComments:function(e){return e=e.replace(/^\t.*$/gm,"")},parseRuleCodes:function(e){if(!e)return[];if(!("FLAG"in this.flags))return e.split("");if("long"===this.flags.FLAG){for(var t=[],r=0,n=e.length;r<n;r+=2)t.push(e.substr(r,2));return t}return"num"===this.flags.FLAG?textCode.split(","):void 0},_applyRule:function(e,t){for(var r=t.entries,n=[],i=0,o=r.length;i<o;i++){var s=r[i];if(!s.match||e.match(s.match)){var a=e;if(s.remove&&(a=a.replace(s.remove,"")),"SFX"===t.type?a+=s.add:a=s.add+a,n.push(a),"continuationClasses"in s)for(var c=0,u=s.continuationClasses.length;c<u;c++){var p=this.rules[s.continuationClasses[c]];p&&(n=n.concat(this._applyRule(a,p)))}}}return n},check:function(e){var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(t))return!0;if(t.toUpperCase()===t){var r=t[0]+t.substring(1).toLowerCase();if(this.hasFlag(r,"KEEPCASE"))return!1;if(this.checkExact(r))return!0}var n=t.toLowerCase();if(n!==t){if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}return!1},checkExact:function(e){var t=this.dictionaryTable[e];if(void 0===t){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(var r=0,n=this.compoundRules.length;r<n;r++)if(e.match(this.compoundRules[r]))return!0;return!1}for(r=0,n=t.length;r<n;r++)if(!this.hasFlag(e,"ONLYINCOMPOUND",t[r]))return!0;return!1},hasFlag:function(e,t,r){if(t in this.flags){if(void 0===r)r=Array.prototype.concat.apply([],this.dictionaryTable[e]);if(r&&-1!==r.indexOf(this.flags[t]))return!0}return!1},alphabet:"",suggest:function(e,c,t){if(c||(c=5),this.check(e))t([]);else{for(var r=0,n=this.replacementTable.length;r<n;r++){var i=this.replacementTable[r];if(-1!==e.indexOf(i[0])){var o=e.replace(i[0],i[1]);if(this.check(o))return void t([o])}}var u,p=this;p.alphabet="abcdefghijklmnopqrstuvwxyz",u=function(e){t(e)},s([e],function(a){s(a,function(e){for(var t=l(a).concat(l(e)),r={},n=0,i=t.length;n<i;n++)t[n]in r?r[t[n]]+=1:r[t[n]]=1;var o=[];for(var n in r)o.push([n,r[n]]);o.sort(function(e,t){return e[1]<t[1]?-1:1}).reverse();var s=[];for(n=0,i=Math.min(c,o.length);n<i;n++)p.hasFlag(o[n][0],"NOSUGGEST")||s.push(o[n][0]);u(s)})})}function s(e,t){for(var r=[],n=[],i=[],o=function(){for(var e=0;e<4;++e)if(!i[e])return;t(r)},s=0;s<4;++s){var a=new Worker("wordprocessor.js");a.addEventListener("message",function(t){return function(e){r=r.concat(e.data),i[t]=!0,this.terminate(),o()}}(s)),n.push(a),i.push(!1)}var c=e.length/4;for(s=0;s<4;++s)3!=s?n[s].postMessage(e.slice(c*s,c*(s+1))):n[s].postMessage(e.slice(c*s))}function l(e){for(var t=[],r=0;r<e.length;r++)p.check(e[r])&&t.push(e[r]);return t}}},t.Typo=r}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/services/ChoiceScriptValidation",["require","exports","../parser/cssNodes","vscode-languageserver-types","./textRules","./spellcheck","./typo/typo"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("../parser/cssNodes"),a=e("vscode-languageserver-types"),c=e("./textRules"),u=e("./spellcheck"),n=e("./typo/typo"),r=function(){function e(){this.typo=new n.Typo("","","",{platform:"any"})}return e.prototype.configure=function(e){this.settings=e,this.loadTypo(e)},e.prototype.loadTypo=function(e){var t=e.spellCheckSettings.rootPath,r=this.settings.spellCheckSettings.dictionary;this.typo=new n.Typo(r,this.typo._readFile(t+r+"/"+r+".aff"),this.typo._readFile(t+r+"/"+r+".dic"),{platform:"any"})},e.prototype.doValidation=function(n,e,t){if(void 0===t&&(t=this.settings),t&&!1===t.validate)return[];var r=[];r.push.apply(r,s.ParseErrorCollector.entries(e)),t&&!0===t.spellCheckSettings.enabled&&r.push.apply(r,u.SpellCheckVisitor.entries(e,n,null,s.Level.Warning|s.Level.Error,this.typo));var i=[];for(var o in c.Rules)i.push(c.Rules[o].id);return r.filter(function(e){return e.getLevel()!==s.Level.Ignore}).map(function(e){var t=a.Range.create(n.positionAt(e.getOffset()),n.positionAt(e.getOffset()+e.getLength())),r=-1!==i.indexOf(e.getRule().id)?n.languageId+".lint."+e.getRule().id:n.languageId;return{code:e.getRule().id,source:r,message:e.getMessage(),severity:e.getLevel()===s.Level.Warning?a.DiagnosticSeverity.Warning:a.DiagnosticSeverity.Error,range:t}})},e}();t.ChoiceScriptValidation=r}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/cssLanguageTypes",["require","exports","vscode-languageserver-types"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=e("vscode-languageserver-types");t.Range=n.Range,t.TextEdit=n.TextEdit,t.Position=n.Position,(r=t.SpellCheckDictionary||(t.SpellCheckDictionary={})).EN_US="en_US",r.EN_GB="en_GB"}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define("vscode-css-languageservice/cssLanguageService",["require","exports","./parser/cssParser","./services/cssCompletion","./services/cssHover","./services/cssNavigation","./services/ChoiceScriptValidation","./cssLanguageTypes","vscode-languageserver-types"],e)}(function(e,r){"use strict";function t(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./parser/cssParser"),s=e("./services/cssCompletion"),a=e("./services/cssHover"),c=e("./services/cssNavigation"),u=e("./services/ChoiceScriptValidation");t(e("./cssLanguageTypes")),t(e("vscode-languageserver-types")),r.getCSSLanguageService=function(){return e=new o.Parser,t=new s.CSSCompletion,r=new a.CSSHover,n=new c.CSSNavigation,{configure:(i=new u.ChoiceScriptValidation).configure.bind(i),doValidation:i.doValidation.bind(i),parseStylesheet:e.parseStylesheet.bind(e),doComplete:t.doComplete.bind(t),setCompletionParticipants:t.setCompletionParticipants.bind(t),doHover:r.doHover.bind(r),findDefinition:n.findDefinition.bind(n),findReferences:n.findReferences.bind(n),findDocumentHighlights:n.findDocumentHighlights.bind(n),findDocumentLinks:n.findDocumentLinks.bind(n),findDocumentSymbols:n.findDocumentSymbols.bind(n),findColorSymbols:function(e,t){return n.findDocumentColors(e,t).map(function(e){return e.range})},findDocumentColors:n.findDocumentColors.bind(n),getColorPresentations:n.getColorPresentations.bind(n),doRename:n.doRename.bind(n)};var e,t,r,n,i}}),define("vscode-css-languageservice",["vscode-css-languageservice/cssLanguageService"],function(e){return e}),define("vs/language/choicescript/choicescriptWorker",["require","exports","vscode-css-languageservice","vscode-languageserver-types"],function(e,t,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=monaco.Promise,n=function(){function e(e,t){switch(this._ctx=e,this._languageSettings=t.languageSettings,this._languageId=t.languageId,this._languageId){case"choicescript":this._languageService=r.getCSSLanguageService();break;default:throw new Error("Invalid language id: "+this._languageId)}this._languageService.configure(this._languageSettings)}return e.prototype.doValidation=function(e){var t=this._getTextDocument(e);if(t){var r=this._languageService.parseStylesheet(t),n=this._languageService.doValidation(t,r,this._languageSettings);return s.as(n)}return s.as([])},e.prototype.doComplete=function(e,t){var r=this._getTextDocument(e),n=this._languageService.parseStylesheet(r),i=this._languageService.doComplete(r,t,n);return s.as(i)},e.prototype.doHover=function(e,t){var r=this._getTextDocument(e),n=this._languageService.parseStylesheet(r),i=this._languageService.doHover(r,t,n);return s.as(i)},e.prototype.findDefinition=function(e,t){var r=this._getTextDocument(e),n=this._languageService.parseStylesheet(r),i=this._languageService.findDefinition(r,t,n);return s.as(i)},e.prototype.findReferences=function(e,t){var r=this._getTextDocument(e),n=this._languageService.parseStylesheet(r),i=this._languageService.findReferences(r,t,n);return s.as(i)},e.prototype.findDocumentHighlights=function(e,t){var r=this._getTextDocument(e),n=this._languageService.parseStylesheet(r),i=this._languageService.findDocumentHighlights(r,t,n);return s.as(i)},e.prototype.findDocumentSymbols=function(e){var t=this._getTextDocument(e),r=this._languageService.parseStylesheet(t),n=this._languageService.findDocumentSymbols(t,r);return s.as(n)},e.prototype.findDocumentColors=function(e){var t=this._getTextDocument(e),r=this._languageService.parseStylesheet(t),n=this._languageService.findDocumentColors(t,r);return s.as(n)},e.prototype.getColorPresentations=function(e,t,r){var n=this._getTextDocument(e),i=this._languageService.parseStylesheet(n),o=this._languageService.getColorPresentations(n,i,t,r);return s.as(o)},e.prototype._getTextDocument=function(e){for(var t=0,r=this._ctx.getMirrorModels();t<r.length;t++){var n=r[t];if(n.uri.toString()===e)return i.TextDocument.create(e,this._languageId,n.version,n.getValue())}return null},e}();t.CSSWorker=n,t.create=function(e,t){return new n(e,t)}});